function preloader() {	if ($('#preloader').length) {		setTimeout(function() {			$('#preloader').fadeOut('slow', function() {				$('body').removeClass('overflow-hidden').css('padding', '');			});		}, 1000);	}}$(window).on('load', preloader);//---------------------------------------//// Подключаем набор написаных скриптов (requare/developRequare.js)//---------------------------------------//// выполняем их после того, как DOM построится $(document).ready(function() {	 $.reject({  	//	header: 'Your browser is not supported here', // Header Text  	//	paragraph1: 'You are currently using an unsupported browser', // Paragraph 1  	//	paragraph2: 'Please install one of the many optional browsers below to proceed',  	//	closeMessage: 'Close this window at your own demise!' // Message below close window link  		 reject: { 			all: false,			msie: 9,			chrome: 40,			firefox: 30,			safari4: 4		}, 		display: [], // What browsers to display and their order (default set below)		browserShow: true, // Should the browser options be shown?		browserInfo: { // Settings for which browsers to display			chrome: {				// Text below the icon				text: 'Google Chrome',				// URL For icon/text link				url: 'http://www.google.com/chrome/'				// (Optional) Use "allow" to customized when to show this option				// Example: to show chrome only for IE users				// allow: { all: false, msie: true }			},			firefox: {				text: 'Mozilla Firefox',				url: 'http://www.mozilla.com/firefox/'			},			safari: {				text: 'Safari',				url: 'http://www.apple.com/safari/download/'			},			opera: {				text: 'Opera',				url: 'http://www.opera.com/download/'			},			msie: {				text: 'Microsoft Edge',				url: 'http://www.microsoft.com/'			}		},		// Pop-up Window Text		header: 'Did you know that your Internet Browser is out of date?',		paragraph1: 'Your browser is out of date, and may not be compatible with '+					'our website. A list of the most popular web browsers can be '+					'found below.',		paragraph2: 'Just click on the icons to get to the download page',		// Allow closing of window		close: true,		// Message displayed below closing link		closeMessage: 'By closing this window you acknowledge that your experience '+						'on this website may be degraded',		closeLink: 'Close This Window',		closeURL: '#',		// Allows closing of window with esc key		closeESC: true,		// Use cookies to remmember if window was closed previously?		closeCookie: false,		// Cookie settings are only used if closeCookie is true		cookieSettings: {			// Path for the cookie to be saved on			// Should be root domain in most cases			path: '/',			// Expiration Date (in seconds)			// 0 (default) means it ends with the current session			expires: 0		},		// Path where images are located		imagePath: './img/browsers/',		// Background color for overlay		overlayBgColor: '#000',		// Background transparency (0-1)		overlayOpacity: 0.8,		// Fade in time on open ('slow','medium','fast' or integer in ms)		fadeInTime: 'fast',		// Fade out time on close ('slow','medium','fast' or integer in ms)		fadeOutTime: 'fast',		// Google Analytics Link Tracking (Optional)		// Set to true to enable		// Note: Analytics tracking code must be added separately		analytics: false	}); 	//---------------------------------------//	// Подключаем скрипты компонентов страниц ( modules )	//---------------------------------------//	function contestsSlider() {		var flag = false;		function init() {			if (window.innerWidth < 1023) {				if (!flag) {					$('.js-article-slider').slick({						dots: true,						arrows: false,						slidesToShow: 2,						slidesToScroll: 1,						responsive: [							{								breakpoint: 767,								settings: {									slidesToShow: 1,									slidesToScroll: 1								}							}						]					});					flag = true;				}			} else {				if (flag) {					$('.js-article-slider').slick('unslick');					flag = false;				}			}		}		if ($('.js-article-slider').length) {			init();			$(window).on('resize', init);		}	}	contestsSlider();	function countryCarusel() {	    $('.js-country-carusel').slick({	        arrows: false,	        dots: true,	        slidesToShow: 3,	        responsive: [	            {	                breakpoint: 1024,	                settings: {	                    slidesToShow: 2	                }	            },	            {	                breakpoint: 680,	                settings: {	                    slidesToShow: 1	                }	            }	        ]	    });	}	countryCarusel();
	function openFilter() {		$('.js-open-filter').on('click', function() {			$('.js-filter').toggleClass('active');		})	}	openFilter();	var positionTop = $('.js-filter').offset();	function widthElement() {		var widthFilter = $('.js-filter').width();		$('.js-position').width(widthFilter);	}	widthElement();	$(window).on('resize', widthElement);	function fixedBlock() {		$(window).scroll(function() {			var st = $(window).scrollTop();			console.log(st + positionTop.top + 100);			if (st + positionTop.top + 100 > $('.js-filter').outerHeight()) {				$('.js-position').css('position', 'absolute')			} else {				$('.js-position').css('position', 'fixed')			}		});	}	fixedBlock();
	function showMenu() {		$('.js-btn-burger').on('click', function() {			$('.js-nav').toggleClass('active');			$(this).toggleClass('active');		})		$(document).on('click', function(e){			if (!$(e.target).closest('.js-wrapp-nav').length && !$(e.target).closest('.js-btn-burger').length) {				$('.js-nav').removeClass('active');				$('.js-btn-burger').removeClass('active');			}		})	}	showMenu();
	$('.js-object-slick').slick({		dots: true,		slidesToShow: 1,		slidesToScroll: 1,		infinite: false,		responsive: [			{				breakpoint: 767,				settings: {					slidesToShow: 1,					slidesToScroll: 1				}			}		]	});	function toggleHeart() {		$('.js-object-btn').on('click', function(e) {			e.preventDefault();			$(this).toggleClass('active');		})	}	toggleHeart();
	$('.js-offer-slider').slick({		dots: true,		slidesToShow: 2,		slidesToScroll: 2,		infinite: false,		arrows: false,		responsive: [			{				breakpoint: 767,				settings: {					slidesToShow: 1,					slidesToScroll: 1				}			}		]	});
	function productSlider() {	  $('.js-product-slider').slick({	    dots: true,	      responsive: [	          {	              breakpoint: 480,	              settings: {	                  dots: false	              }	          }	      ]	  });	  var totalSlide = ($('.product-desc__slider-item').length - 1) / 2;	  $('.js-product-counter').text(totalSlide);	}	productSlider();	function mobileAccordeon() {	    $('.js-more-btn').on('click', function () {	      $(this).closest('.js-more-item').find('.js-more-btn').toggleClass('active');	      $(this).closest('.js-more-item').find('.js-more-collapse').slideToggle('slow');	    });	    $(window).on('resize', function () {	        $('.js-more-btn').removeClass('active');	        $('.js-more-collapse').removeAttr('style');	    });	}	mobileAccordeon();	var flag = false;	function showList() {		if ($(window).width() < 768) {			if (!flag) {				$('.js-item-wrapp').find('.js-title').on('click', function() {					$(this).next().slideToggle();					$(this).closest('.js-item-wrapp').toggleClass('active');				})				$('.js-item-wrapp').find('.js-title').eq(0).trigger('click');				flag = true;			}		} else {			if (flag) {				$('.js-item-wrapp').find('.js-title').off('click');				$('.js-list').removeAttr('style');				$('.js-item-wrapp').removeClass('active');				flag = false;			}		}	}	showList();	$(window).resize(function() {		showList();	})	// var itemLength = $('.realty__list').children().length;	// console.log(itemLength);	// $('.realty__list').children().hide();	// $('.realty__list li:lt(20)').show();	// function itemLength() {	// 	if ($(window).width() < 768) {	// 		$('.realty__item:lt(14)').show();	// 	} 	// }	// itemLength();	// $(window).resize(function() {	// 	itemLength();	// })
	function similarMobileSlider() {	  var flag = false;	  function init() {	    if (window.innerWidth < 1023) {	      if (!flag) {	        $('.js-similar-slider').slick({	          dots: true,	          arrows: false,	          slidesToShow: 2,	          slidesToScroll: 1,	          responsive: [	            {	              breakpoint: 767,	              settings: {	                slidesToShow: 1,	                slidesToScroll: 1	              }	            }	          ]	        });	        flag = true;	      }	    } else {	      if (flag) {	        $('.js-similar-slider').slick('unslick');	        flag = false;	      }	    }	  }	  if ($('.js-similar-slider').length) {	    init();	    $(window).on('resize', init);	  }	}	similarMobileSlider();	function addFavorites() {	    $('.js-viewed-btn').on('click', function () {	        $(this).closest('.js-viewed-item').toggleClass('active');	    });	}	addFavorites();	function viewedSlider() {	    var flag = false;	    function init() {	        if (window.innerWidth < 1023) {	            if (!flag) {	                $('.js-viewed-slider').slick({	                    dots: true,	                    arrows: false,	                    slidesToShow: 2,	                    slidesToScroll: 1,	                    responsive: [	                        {	                            breakpoint: 767,	                            settings: {	                                slidesToShow: 1,	                                slidesToScroll: 1	                            }	                        }	                    ]	                });	                flag = true;	            }	        } else {	            if (flag) {	                $('.js-viewed-slider').slick('unslick');	                flag = false;	            }	        }	    }	    if ($('.js-viewed-slider').length) {	        init();	        $(window).on('resize', init);	    }	}	viewedSlider();	//---------------------------------------//	// Подключаем основные скрипты ( develop )	//---------------------------------------//	;(function($) {		$('.js-select-price').each(function() {			var self = $(this),			parent = self.closest('.select-wrapp-price');			self.selectmenu({				appendTo: parent			});		})		function autoMultiSelect() {			$(".js-example-basic-multiple-limit").select2({				multiple: true			});		}		autoMultiSelect();		function dropCheckboxGroup() {			var droppBtn = $('.js-btn-dropp').closest('.js-wrapp-dropp');			droppBtn.on('click', function() {				$(this).toggleClass('active');			})			$(document).on('click', function(e){				if (!$(e.target).closest('.js-wrapp-dropp').length) {					droppBtn.removeClass('active');				}			})		}		dropCheckboxGroup();		function activeCheckboxCounter() {			$('.js-length-check').on('click', function () {				var check = $('.js-length-check').find('input[type=checkbox]:checked').length,				cont = $('.js-btn-dropp').find('.js-number-check'),				widthText = $('.js-btn-dropp').find('.js-width-text');				cont.addClass('active').text(check);				widthText.addClass('active');			});		}		activeCheckboxCounter();		function tabs() {			var $wrap = $('.js-tabs-wrap');			if ($wrap.length) {				$wrap.each(function () {					var $that = $(this),					$tab = $that.find('.js-tab'),					$content = $that.find('.js-tab-content');					$tab.on('click touchstart', function (e) {						e.preventDefault();						var self = $(this),						index = self.index();						self.addClass('active').siblings().removeClass('active');						$content.eq(index).addClass('active').siblings().removeClass('active');					});				});			}		}		tabs();		function showLabelInput() {			$('.input-box').find('.input-contact').on('focus', function() {				$(this).closest('.input-box').find('.input-label').addClass('active-focus');			})			$('.input-contact').on('blur', function() {				$('.input-label').removeClass('active-focus');			})		}		showLabelInput();		function triggerInput() {			$('.input-data-label').closest('.input-data-box').on('click', function() {				$(this).find('.input-value').trigger('focus');			})		}		triggerInput();		function heightItem() {			$(item).matchHeight({				byRow: true,				property: 'height',				target: null,				remove: false 			});		}		heightItem('.js-height');		heightItem('.js-descr-height');		$(window).on('resize', heightItem);		function focusInput() {			$('.js-price-item').on('click', function() {				$(this).find('.js-focus-input').trigger('focus');			})		}		focusInput();		function autocompleteCountry() {			$('.js-country-filter').on('click', function() {				$('.js-country-dropp').addClass('active');				$(this).addClass('active');			})			$(document).on('click', function(e){				if (!$(e.target).closest('.js-country-wrapp').length) {					$('.js-country-dropp').removeClass('active');					$('.js-country-filter').removeClass('active');				}			})			$('.tags').each(function() {				var self = $(this);				// var thisItem = $(this);				var availableTags = [				"Греция",				"Греция / Фамагуста / Искеле",				"Австрия",				"Германия",				"Австралия",				"Португалия",				"Португалия / Австрия",				"Финляндия",				"Италия",				"Франция",				"Украина"				];				function split( val ) {					return val.split( /,\s*/ );				}				function extractLast( term ) {					return split( term ).pop();				}				function bindAutoComplete(ele, options) {					var text = ele.val();					text = text == null || text == undefined ? "" : text;					ele.autocomplete(options).autocomplete( "instance" )._renderItem = function (ul, item) {						var checked = (text.indexOf(item.label + ', ') > -1 ? 'checked' : '');						$ul = ul;						return $("<li></li>")						.attr('data-value', item.value)						.append('<a href="javascript:;" class="checkbox"><input type="checkbox"' + checked + '/><span>' + item.label + '</span></a>')						.appendTo(ul);					};				}				var $this;				var $ul;				var multiSelectOptions = {					minLength: 0,					appendTo: self.closest('.js-country-dropp'),					source: function (request, response) {						console.log(extractLast( request.term ))						response( $.ui.autocomplete.filter(							availableTags, extractLast( request.term ) ) );					},					open: function( event, ui ) {						$(this).siblings('.ui-menu').mCustomScrollbar({							axis:"y" 						});					},					focus: function () {						return false;					},					select: function (event, ui) {						var liItem;						$ul.find('li').each(function() {							if ($(this).data('value') == ui.item.value) {								liItem = this;							}						})						var text = $this.val();						text = text == null || text == undefined ? "" : text;						var checked = (text.indexOf(ui.item.value + ', ') > -1 ? 'checked' : '');						if (checked == 'checked') {							this.value = this.value.replace(ui.item.value + ', ', '')							$(liItem).find('input[type="checkbox"]').attr('checked', false)						} else {							var terms = split(this.value);							terms.pop();							terms.push(ui.item.value);							terms.push("");							this.value = terms.join(", ");							$(liItem).find('input[type="checkbox"]').attr('checked', true)						}						return false;					}				}				self.on('focus', function () {					$this = $(this);					console.log(thisItem);					var text = $this.val();					bindAutoComplete($this, multiSelectOptions);				}).on("keydown", function(event) {					bindAutoComplete($this, multiSelectOptions);					if ( event.keyCode === $.ui.keyCode.TAB && $( this ).autocomplete( "instance" ).menu.active ) {						event.preventDefault();					}				})			})		}		autocompleteCountry();		$('.slick-arrow').on('click', function(e) {			e.preventDefault();		})		$('.slick-dots').on('click', function(e) {			e.preventDefault();		})	}($));	function gMap() {		var map,map2;		var myOptions = {			zoom: 15,			center: new google.maps.LatLng(55.684037, 37.623633),			mapTypeId: google.maps.MapTypeId.ROADMAP		}		var myOptions2 = {			zoom: 15,			center: new google.maps.LatLng(39.362283, 22.942848),			mapTypeId: google.maps.MapTypeId.ROADMAP		}		map = new google.maps.Map(document.getElementById("map"),			myOptions);		map2 = new google.maps.Map(document.getElementById("product-map"),			myOptions2);		var uluru = {lat: 39.362283, lng: 22.942848};		var marker = new google.maps.Marker({position: uluru, icon: 'pic/location.png', map: map2});	}	gMap();})