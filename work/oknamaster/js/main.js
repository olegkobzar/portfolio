function preloader() {	if ($('#preloader').length) {		setTimeout(function() {			$('#preloader').fadeOut('slow', function() {				$('body').removeClass('overflow-hidden').css('padding', '');			});		}, 1000);	}}$(window).on('load', preloader);//---------------------------------------//// Подключаем набор написаных скриптов (requare/developRequare.js)//---------------------------------------//// выполняем их после того, как DOM построится $(document).ready(function() {	 $.reject({  	//	header: 'Your browser is not supported here', // Header Text  	//	paragraph1: 'You are currently using an unsupported browser', // Paragraph 1  	//	paragraph2: 'Please install one of the many optional browsers below to proceed',  	//	closeMessage: 'Close this window at your own demise!' // Message below close window link  		 reject: { 			all: false,			msie: 9,			chrome: 40,			firefox: 30,			safari4: 4		}, 		display: [], // What browsers to display and their order (default set below)		browserShow: true, // Should the browser options be shown?		browserInfo: { // Settings for which browsers to display			chrome: {				// Text below the icon				text: 'Google Chrome',				// URL For icon/text link				url: 'http://www.google.com/chrome/'				// (Optional) Use "allow" to customized when to show this option				// Example: to show chrome only for IE users				// allow: { all: false, msie: true }			},			firefox: {				text: 'Mozilla Firefox',				url: 'http://www.mozilla.com/firefox/'			},			safari: {				text: 'Safari',				url: 'http://www.apple.com/safari/download/'			},			opera: {				text: 'Opera',				url: 'http://www.opera.com/download/'			},			msie: {				text: 'Microsoft Edge',				url: 'http://www.microsoft.com/'			}		},		// Pop-up Window Text		header: 'Did you know that your Internet Browser is out of date?',		paragraph1: 'Your browser is out of date, and may not be compatible with '+					'our website. A list of the most popular web browsers can be '+					'found below.',		paragraph2: 'Just click on the icons to get to the download page',		// Allow closing of window		close: true,		// Message displayed below closing link		closeMessage: 'By closing this window you acknowledge that your experience '+						'on this website may be degraded',		closeLink: 'Close This Window',		closeURL: '#',		// Allows closing of window with esc key		closeESC: true,		// Use cookies to remmember if window was closed previously?		closeCookie: false,		// Cookie settings are only used if closeCookie is true		cookieSettings: {			// Path for the cookie to be saved on			// Should be root domain in most cases			path: '/',			// Expiration Date (in seconds)			// 0 (default) means it ends with the current session			expires: 0		},		// Path where images are located		imagePath: './img/browsers/',		// Background color for overlay		overlayBgColor: '#000',		// Background transparency (0-1)		overlayOpacity: 0.8,		// Fade in time on open ('slow','medium','fast' or integer in ms)		fadeInTime: 'fast',		// Fade out time on close ('slow','medium','fast' or integer in ms)		fadeOutTime: 'fast',		// Google Analytics Link Tracking (Optional)		// Set to true to enable		// Note: Analytics tracking code must be added separately		analytics: false	}); 	//---------------------------------------//	// Подключаем скрипты компонентов страниц ( modules )	//---------------------------------------//	function showAllInfo() {		$('.js-about-all').on('click', function() {			$('.js-about-wrap').addClass('active');			$(this).addClass('hide');		})	}	showAllInfo();
	function sliderArticle(){		var flag = false;		function init() {			if (window.innerWidth < 768) {				if (!flag) {					$('.js-article-slider').slick({						slidesToShow: 1,						slidesToScroll: 1,						infinite: false,						dots: false					});				}				flag = true;			} 			else {				if (flag) {					$('.js-article-slider').slick('unslick');					flag = false;				}			}		}		if ($('.js-article-slider').length) {			init();			$(window).on('resize', init);		}	}	sliderArticle();
	function sliderBalcony() {		$('.js-balcony-slider-content').slick({			slidesToShow: 1,			slidesToScroll: 1,			arrows: true,			fade: false,			infinite: false,			asNavFor: '.js-balcony-slider-head',			draggable: false,			responsive: [			]		});		$('.js-balcony-slider-head').slick({			slidesToShow: 7,			infinite: false,			asNavFor: '.js-balcony-slider-content',			focusOnSelect: true,			draggable: false		});	}	sliderBalcony();	function toggleType() {		$('.js-head-cold').on('click', function() {			$('.js-head-heat').removeClass('active');			$(this).addClass('active');			$(this).closest('.js-wrap-type').find('.balcony__price').each(function() {				var priceHeat = $(this).data('price-cold');				var priceHeatOld = $(this).data('price-cold-old');				$(this).find('.balcony__price-value').text(priceHeat);				$(this).find('.balcony__price-old-value').text(priceHeatOld);			})			$(this).closest('.js-wrap-type').find('.balcony__price-old').each(function() {				var priceHeatOld = $(this).data('price-cold-old');				$(this).find('.balcony__price-old-value').text(priceHeatOld);			})		})		$('.js-head-heat').on('click', function() {			$('.js-head-cold').removeClass('active');			$(this).addClass('active');			$(this).closest('.js-wrap-type').find('.balcony__price').each(function() {				var priceHeat = $(this).data('price-heat');				var priceHeatOld = $(this).data('price-heat-old');				$(this).find('.balcony__price-value').text(priceHeat);				$(this).find('.balcony__price-old-value').text(priceHeatOld);			})			$(this).closest('.js-wrap-type').find('.balcony__price-old').each(function() {				var priceHeatOld = $(this).data('price-heat-old');				$(this).find('.balcony__price-old-value').text(priceHeatOld);			})		})	}	toggleType();
	function toggleTypeHeating() {		$('.js-toggle-heating').on('click', function() {			$('.calc__type-text').each(function() {				$(this).toggleClass('active');			})		})	}	toggleTypeHeating();	$('.js-slider').slider({		range: 'min',		value: $('.js-slider').data('value'),		min: $('.js-slider').data('min'),		max: $('.js-slider').data('max'),		step: $('.js-slider').data('step'),		create: function() {			$('.js-res-slider').val($(this).slider('value'));		},		slide: function(event, ui) {			$('.js-res-slider').val(ui.value);		}	});
	function showAll() {		$('.js-btn-all').on('click', function(e) {			e.preventDefault();			$(this).closest('.js-wrap-box-all').find('.js-wrap-certificate').addClass('active');			$(this).addClass('hide');		})	}	showAll();
	$('.js-slider-contact').slick({		infinite: false,		slidesToShow: 4,		slidesToScroll: 1,		responsive: [		{			breakpoint: 1200,			settings: {				slidesToShow: 3			}		},		{			breakpoint: 1023,			settings: {				slidesToShow: 2			}		},		{			breakpoint: 650,			settings: {				slidesToShow: 1			}		}		]	});	function contactsMap() {		var mapBlock = $('#map');		if (mapBlock.length) {			try {				jQuery.getScript('https://api-maps.yandex.ru/2.1/?lang=ru_RU', function() {								ymaps.ready(init);					var myMap,					myPlacemark;					function init() {						myMap = new ymaps.Map("map", {							center: [55.761319, 37.622071],							zoom: 10,							controls: []						});						myPlacemark = new ymaps.Placemark([55.739877, 37.782597], {							balloonContent: 'г. Москва, ул. Кусковская, 20а'						}, {							iconLayout: 'default#image',							iconImageHref: 'pic/marker.png',							iconImageSize: [44, 40],							iconImageOffset: [-15, -45]						});						myMap.geoObjects						.add(myPlacemark)						.add(new ymaps.Placemark([55.888476, 37.433603], {							balloonContent: 'м. «Речной вокзал», ул. Ленинградское шоссе, влад. 5, ТЦ «Лига»'						}, 						{							iconLayout: 'default#image',							iconImageHref: 'pic/marker.png',							iconImageSize: [44, 40],							iconImageOffset: [-16, -45]						}))						.add(new ymaps.Placemark([55.588209, 37.725413], {							balloonContent: 'м. «Домодедовская», 25-й км. МКАДа, влад. 4, стр. 2, ТОСК «Конструктор», пав. Г2.2.2'						}, 						{							iconLayout: 'default#image',							iconImageHref: 'pic/marker.png',							iconImageSize: [44, 40],							iconImageOffset: [-16, -45]						}))						.add(new ymaps.Placemark([55.671525, 37.584552], {							balloonContent: 'м. «Профсоюзная», Нахимовский пр-т, д. 24, Выстовочный Комплекс «ЭКСПОСТРОЙ»'						}, 						{							iconLayout: 'default#image',							iconImageHref: 'pic/marker-2.png',							iconImageSize: [55, 50],							iconImageOffset: [-17, -47]						}))					}				})			} catch(e) {				console.log(e);			}					}	}	contactsMap();
	function autoFooter() {		var footer = $('.footer');		if ($('.footer').length) {			var wrapper = $('.wrapper');			var footerHeight = footer.outerHeight();			footer.css('margin-top', -footerHeight);			wrapper.css('padding-bottom', footerHeight);		}	}	setTimeout(autoFooter, 100);	$(window).on('resize', autoFooter);
	$('.js-grid').masonry({		itemSelector: '.js-grid-item',		// columnWidth: '.js-grid-sizer',		percentPosition: true,		horizontalOrder: true	});
	function showContact() {		$('.js-toggle-contact').on('click', function() {			$('.js-header-contact').toggleClass('active');			$(document).on('click', function(e){				if (!$(e.target).closest('.js-header-contact').length && !$(e.target).closest('.js-toggle-contact').length) {					$('.js-header-contact').removeClass('active');				}			})		})	}	showContact();	function showNav() {		$('.js-toggle-nav').on('click', function() {			$('.js-nav').toggleClass('active');		})		$(document).on('click', function(e){			if (!$(e.target).closest('.js-nav').length && !$(e.target).closest('.js-toggle-nav').length) {				$('.js-nav').removeClass('active');			}		})	}	showNav();	(function() {		var flag = false;		function openSubnav() {			if (window.innerWidth < 768) {				if (!flag) {					$('.js-open-subnav').on('click', function(e) {						e.preventDefault();						$(this).closest('.js-item-wrap').find('.js-subnav').slideToggle();						$(this).toggleClass('active');					})					flag = true;				}			} else {				if (flag) {					$('.js-open-subnav').off('click');					$('.js-subnav').removeAttr('style');					$('.js-open-subnav').removeClass('active');					flag = false;				}			}		}		openSubnav();		$(window).on('resize', openSubnav);	})();
	function sliderProfile() {		$('.js-slider-for').slick({			slidesToShow: 1,			slidesToScroll: 1,			arrows: true,			fade: false,			infinite: false,			asNavFor: '.js-slider-nav',			draggable: false,			responsive: [				{					breakpoint: 1260,					settings: {						arrows: false					}				},				{					breakpoint: 1023,					settings: {						arrows: true					}				}			]		});		$('.js-slider-nav').slick({			slidesToShow: 4,			infinite: false,			asNavFor: '.js-slider-for',			focusOnSelect: true,			draggable: false		});	}	sliderProfile();
	function widthLine() {		$('.props__item').each(function() {			var w1 = $(this).find('.props__title').innerWidth(),				w2 = $(this).find('.props__value').innerWidth(),				wWrap = $(this).width(),				w3 = $(this).find('.props__line');			w3.innerWidth(wWrap - w1 - w2);		})	}	widthLine();	$(window).on('resize', function() {		widthLine();	})
	function showInfo() {		$('.js-toggle-info').on('click', function(e) {			e.preventDefault();			$('.question__icon').toggleClass('active');			$('.question__info-box').toggleClass('active');			$.fn.matchHeight._update()		})		$('.js-toggle-info--bottom').on('click', function(e) {			e.preventDefault();			var id  = $(this).attr('href'),				top = $(id).offset().top;			$('body,html').animate({scrollTop: top - 300}, 300);		})		setTimeout(function() {			sliderQuestion();		}, 1000)	}	showInfo();	function sliderQuestion(){		var flag = false;		function init() {			if (window.innerWidth < 1024) {				if (!flag) {					$('.js-slider-info').slick({						slidesToShow: 2,						slidesToScroll: 2,						infinite: false,						dots: false,						responsive: [						{							breakpoint: 768,							settings: {								slidesToShow: 1,								slidesToScroll: 1							}						}						]					});					$('.js-slider-info').on('afterChange', function(){						$.fn.matchHeight._update()					});					$.fn.matchHeight._update()				}				flag = true;			} 			else {				if (flag) {					$('.js-slider-info').slick('unslick');					flag = false;				}			}		}		if ($('.js-slider-info').length) {			init();			$(window).on('resize', init);		}	}	function hoverCol() {		$('.question__col').find('.question__info-wrap').on('mouseenter', function() {			var index = $(this).index();			$(this).addClass('active').closest('.question__col').siblings('.question__col').each(function(){				$(this).find('.question__info-wrap').eq(index - 1).addClass('active');			})		})			$('.question__col').find('.question__info-wrap').on('mouseleave', function() {			var index = $(this).index();			$(this).removeClass('active').closest('.question__col').siblings('.question__col').each(function(){				$(this).find('.question__info-wrap').eq(index - 1).removeClass('active');			})		})	}	hoverCol();	function playVideo() {		$('.stat__bottom').on('click', function() {				$('.stat__bottom').addClass('active');			var src = $('.video').attr('src');			$('.video').attr('src', src + '&autoplay=1');		})	}	playVideo();
	$('.js-lamination-slider').each(function() {		$(this).slick({			infinite: false,			slidesToShow: 5,			slidesToScroll: 1,			responsive: [			{				breakpoint: 1200,				settings: {					slidesToShow: 4				}			},			{				breakpoint: 1023,				settings: {					slidesToShow: 3				}			},			{				breakpoint: 768,				settings: {					slidesToShow: 3				}			}			]		});	})	$('.js-bg-slider').slick({		infinite: true,		slidesToShow: 1,		slidesToScroll: 1,		fade: true,		arrows: true,		nextArrow: $('.window__reinit')	});	function changeWindow() {		$('.js-lamination').on('click', function() {			var nameLamination = $(this).data('lamination');			$('.js-lamination-box').attr('src', nameLamination);		})		$('.js-profile').on('click', function() {			var nameProfile = $(this).data('profile');			$('.js-profile-box').attr('src', nameProfile);		})		$('.js-handle').on('click', function() {			var nameHandle = $(this).data('handle');			$('.js-handle-box').attr('src', nameHandle);		})	}	changeWindow();	//---------------------------------------//	// Подключаем основные скрипты ( develop )	//---------------------------------------//	function errorInput() {		$('input[type="text"').on('focus', function() {			$(this).closest('label').removeClass('error').removeClass('success');			if ($(this).val().length < 2) {				$(this).val('');			}		})		$('input[type="text"').on('focusout', function() {			if ($(this).val().length < 2) {				$(this).closest('label').addClass('error');				$(this).removeAttr('placeholder').val('');			} else {				$(this).closest('label').removeClass('error').addClass('success');			}		})	}	// errorInput();	function tabs() {		var $wrap = $('.js-tabs-wrap');		if ($wrap.length) {			$wrap.each(function () {				var $that = $(this),				$tab = $that.find('.js-tab'),				$content = $that.find('.js-tab-content');				$tab.on('click', function (e) {					e.preventDefault();					var self = $(this),					index = self.index();					self.addClass('active').siblings().removeClass('active');					$content.eq(index).addClass('active').siblings().removeClass('active');				});			});		}	}	tabs();	// function printNumbersInterval(cl, value, num, time) {	// 	var i = 0;	// 	var timerViewed = setInterval(function() {	// 		$(cl).text(i);	// 		if (i == value) clearInterval(timerViewed);	// 		i = i + num;	// 	}, time);	// }	// var target = $('.stat__wrap').offset().top - 350;	// var interval = setInterval(function() {	// 	if ($(window).scrollTop() >= target) {	// 		printNumbersInterval('.js-square', 9600, 100, 10);	// 		printNumbersInterval('.js-manager', 50, 5, 100);	// 		printNumbersInterval('.js-enginer', 40, 5, 90);	// 		printNumbersInterval('.js-driver', 30, 5, 80);	// 		printNumbersInterval('.js-montag', 130, 10, 60);	// 		clearInterval(interval);	// 	}	// }, 250);	function heightBox(itemName) {		if (itemName === undefined) {			itemName = '.js-height'		}		$(itemName).matchHeight({			byRow: true,			property: 'height',			target: null,			remove: false		});	}	heightBox();	heightBox('.js-height-caption');	heightBox('.js-height-descr');	heightBox('.js-height-box');	heightBox('.js-height-item');	$('.js-phone').mask('+7 (999) 999-99-99');	$('.form-callback').each(function() {		$(this).validate({			rules: {				phone_number: {					required: true,					minlength: 4				}			},			messages: {				phone_number: ''			}		});	})	$('.form-popup').each(function() {		$(this).validate({			rules: {				phone_number: {					required: true,					minlength: 4				},				name_user: {					required: true,					minlength: 2				}			},			messages: {				phone_number: '',				name_user: ''			}		});	})	$('.form-message').each(function() {		$(this).validate({			rules: {				name_user: {					required: true,					minlength: 2				},				mail_user: {					required: true,					minlength: 4				},				message__user: {					required: true,					minlength: 4				}			},			messages: {				name_user: '',				mail_user: '',				message__user: ''			}		});	})})