function preloader() {	if ($('#preloader').length) {		setTimeout(function() {			$('#preloader').fadeOut('slow', function() {				$('body').removeClass('overflow-hidden').css('padding', '');			});		}, 1000);	}}$(window).on('load', preloader);//---------------------------------------//// Подключаем набор написаных скриптов (requare/developRequare.js)//---------------------------------------//// выполняем их после того, как DOM построится $(document).ready(function() {	 $.reject({  	//	header: 'Your browser is not supported here', // Header Text  	//	paragraph1: 'You are currently using an unsupported browser', // Paragraph 1  	//	paragraph2: 'Please install one of the many optional browsers below to proceed',  	//	closeMessage: 'Close this window at your own demise!' // Message below close window link  		 reject: { 			all: false,			msie: 9,			chrome: 40,			firefox: 30,			safari4: 4		}, 		display: [], // What browsers to display and their order (default set below)		browserShow: true, // Should the browser options be shown?		browserInfo: { // Settings for which browsers to display			chrome: {				// Text below the icon				text: 'Google Chrome',				// URL For icon/text link				url: 'http://www.google.com/chrome/'				// (Optional) Use "allow" to customized when to show this option				// Example: to show chrome only for IE users				// allow: { all: false, msie: true }			},			firefox: {				text: 'Mozilla Firefox',				url: 'http://www.mozilla.com/firefox/'			},			safari: {				text: 'Safari',				url: 'http://www.apple.com/safari/download/'			},			opera: {				text: 'Opera',				url: 'http://www.opera.com/download/'			},			msie: {				text: 'Microsoft Edge',				url: 'http://www.microsoft.com/'			}		},		// Pop-up Window Text		header: 'Did you know that your Internet Browser is out of date?',		paragraph1: 'Your browser is out of date, and may not be compatible with '+					'our website. A list of the most popular web browsers can be '+					'found below.',		paragraph2: 'Just click on the icons to get to the download page',		// Allow closing of window		close: true,		// Message displayed below closing link		closeMessage: 'By closing this window you acknowledge that your experience '+						'on this website may be degraded',		closeLink: 'Close This Window',		closeURL: '#',		// Allows closing of window with esc key		closeESC: true,		// Use cookies to remmember if window was closed previously?		closeCookie: false,		// Cookie settings are only used if closeCookie is true		cookieSettings: {			// Path for the cookie to be saved on			// Should be root domain in most cases			path: '/',			// Expiration Date (in seconds)			// 0 (default) means it ends with the current session			expires: 0		},		// Path where images are located		imagePath: './img/browsers/',		// Background color for overlay		overlayBgColor: '#000',		// Background transparency (0-1)		overlayOpacity: 0.8,		// Fade in time on open ('slow','medium','fast' or integer in ms)		fadeInTime: 'fast',		// Fade out time on close ('slow','medium','fast' or integer in ms)		fadeOutTime: 'fast',		// Google Analytics Link Tracking (Optional)		// Set to true to enable		// Note: Analytics tracking code must be added separately		analytics: false	}); 	//---------------------------------------//	// Подключаем скрипты компонентов страниц ( modules )	//---------------------------------------//	function btnChoice() {		$('.js-btn-accept').on('click', function() {			$(this).closest('.js-area-item').find('.js-hidden-btn-provided').addClass('active');			$(this).closest('.js-visible-wrapp').addClass('hide');			$(this).closest('.js-area-item').find('.js-card-goods').addClass('active');			$(this).closest('.js-area-item').find('.goods__inner-top').removeAttr('href');		})		$('.js-btn-refuse').on('click', function() {			$(this).closest('.js-area-item').find('.js-hidden-btn-unprovided').addClass('active');			$(this).closest('.js-visible-wrapp').addClass('hide');			$(this).closest('.js-area-item').find('.js-card-goods').addClass('active');			$(this).closest('.js-area-item').find('.goods__inner-top').removeAttr('href');		})	}	btnChoice()	function btnActivate() {		$('.js-area-deactivate').on('click', function() {			$(this).closest('.js-area-item').find('.js-card-goods').addClass('active');			$(this).closest('.js-area-item').find('.js-area-inner-activate').addClass('active');			$(this).closest('.js-area-item').find('.js-area-inner-deactivate').addClass('active');			$(this).closest('.js-area-item').find('.goods__inner-top').removeAttr('href');		})		$('.js-area-activate').on('click', function() {			$(this).closest('.js-area-item').find('.js-card-goods').removeClass('active');			$(this).closest('.js-area-item').find('.js-area-inner-activate').removeClass('active');			$(this).closest('.js-area-item').find('.js-area-inner-deactivate').removeClass('active');			$(this).closest('.js-area-item').find('.goods__inner-top').attr('href', '#');		})	}	btnActivate();
	var flag = false;	function showFilterMobile() {		if ($(window).width() < 1024) {			if (!flag) {				$('.js-show-filter').on('click', function() {					$('.js-content-filter').slideDown(500);					$('.js-show-wrapp').addClass('active');				})				$('.js-hide-filter').on('click', function() {					$('.js-content-filter').slideUp(500);					$('.js-show-wrapp').removeClass('active');				})				$(document).on('click', function(e){					if (!$(e.target).closest('.js-wrapp-filter').length) {						$('.js-show-wrapp').removeClass('active');						$('.js-content-filter').removeAttr('style');					}				})				flag = true;			}		} else {			if (flag) {				$('.js-content-filter').removeAttr('style');				$('.js-show-wrapp').removeClass('active');				$('.js-content-filter').slideDown(500);				flag = false;			}		}	}	showFilterMobile();	$(window).resize(function() {		showFilterMobile();	});	(function () {	    var footer = $('.js-footer');	    function autoFooter() {	        if ($('.js-footer').length) {	            var wrapper = $('.wrapper');	            var footerHeight = footer.outerHeight();	            footer.css('margin-top', -footerHeight);	            wrapper.css('padding-bottom', footerHeight);	        }	    }	    setTimeout(autoFooter, 100);	    $(window).on('resize', autoFooter);	})();	var mobileSwitch = false;	function showNavMobile() {		if ($(window).width() < 768) {			if (!mobileSwitch) {				// for mobile				$('.js-btn-menu').on('click', function() {					$('.js-menu-open').toggleClass('active');					$('.js-btn-menu').toggleClass('active');				})				$(document).on('click', function(e){					if (!$(e.target).closest('.js-wrapp-nav').length && !$(e.target).closest('.js-btn-menu').length) {						$('.js-menu-open').removeClass('active');						$('.js-btn-menu').removeClass('active');					}				})				mobileSwitch = true;			}		} else {			if (mobileSwitch) {				$('.js-btn-menu').removeClass('active').off('click');				$('.js-menu-open').removeClass('active');				mobileSwitch = false;			}		}	}	showNavMobile();	$(window).on('resize', showNavMobile);
	$(document).on('click', '.js-selection-date-range', function() {		var $parent = $(this).parents('.js-selection-item');		var $start = $parent.find('.js-selection-date-first');		var $end = $parent.find('.js-selection-date-second');		var $drop = $parent.find('.js-drop-daterange');		$drop.css({	      //top: $(this).offset().top + $(this).outerHeight(),	      top: $(this).offset().top,	      left: $(this).offset().left	  }).fadeIn();		$parent.find('.js-datepicker').datepicker({	        //showButtonPanel: true,	        changeMonth: true,	        changeYear: true,	        yearRange: '2010:2018',	        showOtherMonths: true,	        selectOtherMonths: true,	        range: 'period',	        onSelect: function(dateText, instance, extensionRange) {	        	$start.val(extensionRange.startDateText);	        	$end.val(extensionRange.endDateText);  	        },	    });	        // объект расширения (хранит состояние календаря)	        var extensionRange = $(this).datepicker('widget').data('datepickerExtensionRange');	        if(extensionRange.startDateText) $start.val(extensionRange.startDateText);	        if(extensionRange.endDateText) $end.val(extensionRange.endDateText);	        $('.switch').on('click', function() {	        	var resFirstDate = $('.js-selection-date-first').val();		        var resSecondDate = $('.js-selection-date-second').val();				$('.js-result-date-first').text(resFirstDate);				$('.js-result-date-second').text(resSecondDate);				$('.js-drop-daterange').fadeOut();				$('.js-reset-calendar').addClass('active');	        })	        $('.js-reset-calendar').on('click', function() {				$('.js-result-date-first').text('(дата)');				$('.js-result-date-second').text('(дата)');				$('.js-result-date-first').val($('.js-result-date-first').defaultValue);				$('.js-result-date-second').val($('.js-result-date-second').defaultValue);			})	    });	$(document).on('click', function(e){		if (!$(e.target).closest('.js-selection-date-range').length && !$(e.target).closest('.js-drop-daterange').length) {			$('.js-drop-daterange').fadeOut();		}	});	( function( factory ) {		if ( typeof define === "function" && define.amd ) {			// AMD. Register as an anonymous module.			define( [ "../widgets/datepicker" ], factory );		} else {			// Browser globals			factory( jQuery.datepicker );		}	}( function( datepicker ) {		datepicker.regional.ru = {			closeText: "Закрыть",			prevText: "&#x3C;Пред",			nextText: "След&#x3E;",			currentText: "Сегодня",			monthNames: [ "Январь","Февраль","Март","Апрель","Май","Июнь",			"Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь" ],			monthNamesShort: [ "Январь","Февраль","Март","Апрель","Май","Июнь",			"Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь" ],			dayNames: [ "воскресенье","понедельник","вторник","среда","четверг","пятница","суббота" ],			dayNamesShort: [ "вск","пнд","втр","срд","чтв","птн","сбт" ],			dayNamesMin: [ "Вс","Пн","Вт","Ср","Чт","Пт","Сб" ],			weekHeader: "Нед",			dateFormat: "dd.mm.yy",			firstDay: 1,			isRTL: false,			showMonthAfterYear: false,			yearSuffix: "" };			datepicker.setDefaults( datepicker.regional.ru );			return datepicker.regional.ru;		} ) );	function sliderProduct() {	  $('.js-slider-products').slick({	    arrows: true,	    slidesToShow: 7,	    responsive: [	      {	        breakpoint: 1279,	        settings: {	          slidesToShow: 6,	        }	      },	      {	        breakpoint: 1023,	        settings: {	          slidesToShow: 4,	        }	      },	      {	        breakpoint: 767,	        settings: {	          slidesToShow: 3,	        }	      },	      {	        breakpoint: 479,	        settings: {	          slidesToShow: 4,	        }	      },	      {	        breakpoint: 375,	        settings: {	          slidesToShow: 3,	        }	      }	    ]	  });	}	sliderProduct();	function sliderGallery() {	  $('.js-slider-for').slick({	    slidesToShow: 1,	    slidesToScroll: 1,	    arrows: false,	    fade: true,	    asNavFor: '.js-slider-nav',	    responsive: [	      {	        breakpoint: 767,	        settings: {	          fade: false,	          slidesToShow: 1,	        }	      }	    ]	  });	  $('.js-slider-nav').slick({	    slidesToShow: 3,	    slidesToScroll: 1,	    asNavFor: '.js-slider-for',	    arrows: false,	    focusOnSelect: true	  });	}	sliderGallery();	function zoomImg() {	  var imgSrc = $('.js-zoom').data('img');	  $('.js-zoom').zoom({url: imgSrc});	}	zoomImg();	function sellerMap() {		var mapBlock = $('#sellmap');		if (mapBlock.length) {			try {				jQuery.getScript('https://api-maps.yandex.ru/2.1/?lang=ru_RU', function() {								ymaps.ready(init);					var myMap,					myPlacemark;					function init() {						myMap = new ymaps.Map("sellmap", {							center: [55.754766, 37.625055],							zoom: 15,							controls: []						});						myPlacemark = new ymaps.Placemark([55.754766, 37.625055], {						}, {							preset: 'islands#blueDotIcon'						});						myMap.geoObjects.add(myPlacemark);					}				})			} catch(e) {				console.log(e);			}					}	}	sellerMap();	function showPhone() {		$('.js-phone-btn').on('click', function() {			var lastNumber = $(this).data('phone');			$('.js-last-number').text(lastNumber);			$(this).addClass('active');		})	}	showPhone();	//---------------------------------------//	// Подключаем основные скрипты ( develop )	//---------------------------------------//	;(function($) {		if ($('.js-height').length){			$('.js-height').matchHeight({				byRow: true,				property: 'height',				target: null,				remove: false 			});		}		function customSelect() {			var _dropdown;			var settings = {autoReinitialise: true};			$('.js-select').styler({				selectSearch: false,				onFormStyled: function(){					_dropdown = $('.jq-selectbox__dropdown');					_dropdown.find('ul').wrap('<div class="scroll-pane" ></div>');				},				onSelectOpened: function(){					var _ul = $(this).find('.jq-selectbox__dropdown ul');					var height = _ul.height();					var _srollPane = _dropdown.find('.scroll-pane');					_srollPane.height(height);					_ul.css('max-height', 'none');					_srollPane.jScrollPane(settings);				}			});		}		customSelect();		function tabs() {			var $wrap = $('.js-tabs-wrap');			if ($wrap.length) {				$wrap.each(function () {					var $that = $(this),					$tab = $that.find('.js-tab'),					$content = $that.find('.js-tab-content');					$tab.on('click', function (e) {						e.preventDefault();						var self = $(this),						index = self.index();						self.addClass('active').siblings().removeClass('active');						$content.eq(index).addClass('active').siblings().removeClass('active');					});				});			}		}		tabs();		function removeClassMobile() {			if ($(window).width() < 1024) {				$('.js-tab-content:last').removeClass('active');				$('.js-tab-content:first').addClass('active');			}		}		removeClassMobile();		$(window).resize(function() {			removeClassMobile();		});		function readMore() {			var contentWrapper = $('.js-read-more');			contentWrapper.each(function() {				var wordsToCut = 18,				self = $(this),				contentText = self.text(),				sliceText = contentText.split(' ').slice(0, wordsToCut).join(' ');				self.text(sliceText);				self.append('... <a href="#" class="js-more-link">читать полностью</a>');				self.find('.js-more-link').on('click', function(e) {					e.preventDefault();					self.text(contentText)				})			})		}		readMore();		function stickyBlock(a, b) {			var $container = $('.js-sticky-container'),				$block = $(a);			if ($block.length) {				$block.each(function() {					var self = $(this),						contTop = $container.offset().top,						nextBlock = self.next(),						prevBlock = self.prev(),						nextPos = nextBlock.length ? nextBlock.offset().top : contTop + $container.outerHeight() - 20,						prevPos = prevBlock.length ? prevBlock.offset().top + prevBlock.outerHeight(true) : contTop,						flag = false;					function response() {						if (window.innerWidth > b) {							flag = true;						} else {							flag = false;							self.removeAttr('style');						}					}					response();					$(window).on('resize', response);					$(window).on('scroll', function() {						var wind = $(this),							relativeTop = wind.scrollTop() - prevPos,							relativeBtm = wind.scrollTop() - nextPos + self.outerHeight(true);						function setPos(trigger) {							if (trigger) {								self.css('position', 'relative').css('top', relativeTop + 20)							}						} 						if (relativeTop >= 0) {							if (relativeBtm <= 0) {								setPos(flag)							}							} else {							self.removeAttr('style');						}					});				});			}		}		stickyBlock('.js-sticky-block', 1023);		stickyBlock('.js-sticky-block-mobile', 767);	}($));})