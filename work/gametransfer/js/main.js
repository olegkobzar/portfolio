function preloader() {	if ($('#preloader').length) {		setTimeout(function() {			$('#preloader').fadeOut('slow', function() {				$('body').removeClass('overflow-hidden').css('padding', '');			});		}, 1000);	}}$(window).on('load', preloader);//---------------------------------------//// Подключаем набор написаных скриптов (requare/developRequare.js)//---------------------------------------//// выполняем их после того, как DOM построится $(document).ready(function() {	 $.reject({  	//	header: 'Your browser is not supported here', // Header Text  	//	paragraph1: 'You are currently using an unsupported browser', // Paragraph 1  	//	paragraph2: 'Please install one of the many optional browsers below to proceed',  	//	closeMessage: 'Close this window at your own demise!' // Message below close window link  		 reject: { 			all: false,			msie: 9,			chrome: 40,			firefox: 30,			safari4: 4		}, 		display: [], // What browsers to display and their order (default set below)		browserShow: true, // Should the browser options be shown?		browserInfo: { // Settings for which browsers to display			chrome: {				// Text below the icon				text: 'Google Chrome',				// URL For icon/text link				url: 'http://www.google.com/chrome/'				// (Optional) Use "allow" to customized when to show this option				// Example: to show chrome only for IE users				// allow: { all: false, msie: true }			},			firefox: {				text: 'Mozilla Firefox',				url: 'http://www.mozilla.com/firefox/'			},			safari: {				text: 'Safari',				url: 'http://www.apple.com/safari/download/'			},			opera: {				text: 'Opera',				url: 'http://www.opera.com/download/'			},			msie: {				text: 'Microsoft Edge',				url: 'http://www.microsoft.com/'			}		},		// Pop-up Window Text		header: 'Did you know that your Internet Browser is out of date?',		paragraph1: 'Your browser is out of date, and may not be compatible with '+					'our website. A list of the most popular web browsers can be '+					'found below.',		paragraph2: 'Just click on the icons to get to the download page',		// Allow closing of window		close: true,		// Message displayed below closing link		closeMessage: 'By closing this window you acknowledge that your experience '+						'on this website may be degraded',		closeLink: 'Close This Window',		closeURL: '#',		// Allows closing of window with esc key		closeESC: true,		// Use cookies to remmember if window was closed previously?		closeCookie: false,		// Cookie settings are only used if closeCookie is true		cookieSettings: {			// Path for the cookie to be saved on			// Should be root domain in most cases			path: '/',			// Expiration Date (in seconds)			// 0 (default) means it ends with the current session			expires: 0		},		// Path where images are located		imagePath: './img/browsers/',		// Background color for overlay		overlayBgColor: '#000',		// Background transparency (0-1)		overlayOpacity: 0.8,		// Fade in time on open ('slow','medium','fast' or integer in ms)		fadeInTime: 'fast',		// Fade out time on close ('slow','medium','fast' or integer in ms)		fadeOutTime: 'fast',		// Google Analytics Link Tracking (Optional)		// Set to true to enable		// Note: Analytics tracking code must be added separately		analytics: false	}); 	//---------------------------------------//	// Подключаем скрипты компонентов страниц ( modules )	//---------------------------------------//	function showAbout() {		var flag = false;		function init() {			if (window.innerWidth < 1024) {				if (!flag) {					$('.js-btn-about').on('click', function() {						$(this).toggleClass('active');						$('.js-hiden-bott').slideToggle();					})				}				flag = true;			} else {				if (flag) {					$('.js-hiden-bott').removeAttr('style');					$('.js-btn-about').off('click').removeClass('active');					flag = false;				}			}		}		init();		$(window).on('resize', init);	}	showAbout();
	function toggleAlert() {		$('.js-alert-btn').on('click', function(e) {			e.preventDefault();			$(this).toggleClass('active');			if ($(this).hasClass('active')) {				$('.js-alert-text').text('Выключить оповещаения')			} else {				$('.js-alert-text').text('Включить оповещаения')			}		})	}	toggleAlert();
	function showDeal() {		$('.js-deal-item').each(function() {			var head = $(this).find('.js-deal-head'),				arrow = $(this).find('.js-arrow');			head.on('click', function() {				var self = $(this).closest('.js-deal-item');				self.find('.js-deal-hiden').slideDown();				self.addClass('active');			})			arrow.on('click', function() {				var self = $(this).closest('.js-deal-item');				self.find('.js-deal-hiden').slideUp();				self.removeClass('active');			})		})	}	showDeal();
	function showFull() {		$('.js-show-all').on('click', function() {			$('.js-box-all').toggleClass('active');			$(this).addClass('hide');		})	}	showFull();
	$( "#slider-range" ).slider({	 	range: true,	 	step: 5,	 	min: 0,	 	max: 5000,	 	values: [ 0, 1200 ],	 	create: function( event, ui ) {	 		$('.ui-slider-handle:first').addClass('ui-slider-handle-first');	 		$('.ui-slider-handle:last').addClass('ui-slider-handle-last');	 		$('.ui-slider-handle-first').attr('data-val', $(this).slider("values", 0));	 		$('.ui-slider-handle-last').attr('data-val', $(this).slider("values", 1))	 		$('.ui-slider-handle-first').text($(this).slider("values", 0));	 		$('.ui-slider-handle-last').text($(this).slider("values", 1));	 	},	 	slide: function( event, ui ) {	 		$('.ui-slider-handle-first').text($(this).slider("values", 0));	 		$('.ui-slider-handle-last').text($(this).slider("values", 1));	 		$('.ui-slider-handle-first').attr('data-val', $(this).slider("values", 0))	 		$('.ui-slider-handle-last').attr('data-val', $(this).slider("values", 1))	 	}	 });	(function () {	    var footer = $('.js-footer');	    function autoFooter() {	        if ($('.js-footer').length) {	            var wrapper = $('.wrapper');	            var footerHeight = footer.outerHeight();	            footer.css('margin-top', -footerHeight);	            wrapper.css('padding-bottom', footerHeight);	        }	    }	    setTimeout(autoFooter, 100);	    $(window).on('resize', autoFooter);	})();	function showFilter() {		$('.js-btn-filter').on('click', function() {			$('.js-filter').toggleClass('active');			$('body').toggleClass('active-overlay');		})		$('.js-close-filter').on('click', function() {			$('.js-filter').removeClass('active');			$('body').removeClass('active-overlay');		})		$(document).on('click', function(e){			if (!$(e.target).closest('.js-wrapp').length 				&& !$(e.target).closest('.js-btn-filter').length 				&& !$(e.target).closest('.js-filter').length) {				$('.js-filter').removeClass('active');			$('body').removeClass('active-overlay');		}	})	}	showFilter();
	;(function() {		function userDrop() {			$('.js-user-link').on('click', function() {				$('.js-user-drop').addClass('active');				$('.header').css("overflow", "visible");			})			$(document).on('click', function(e){				if (!$(e.target).closest('.js-user-wrap').length) {					$('.js-user-drop').removeClass('active');					$('.header').css("overflow", "hidden");				}			})		}		userDrop();		function menuMobile() {			$('.js-toggler-open').on('click', function() {				$('.js-toggler-menu').addClass('active');			})			$('.js-toggler-close').on('click', function() {				$('.js-toggler-menu').removeClass('active');			})			$('.js-nav-overlay').on('click', function() {				$('.js-toggler-menu').removeClass('active');			})		}		menuMobile();		function showSearch() {			$('.js-btn-search').on('click', function() {				$('.js-search-input').toggleClass('active');				$(this).toggleClass('active');				$('.js-toggler-menu').toggleClass('active-hidden');			})		}		showSearch();	}())
	// var heightInner = $('.last-deals__inner').height();	// function name() {	// 	console.log(heightInner);	// 	setTimeout(function() {	// 		$('.last-deals__inner').addClass('active');	// 	}, 10);	// }	// name();	// var flag = false;	// function imgHeight() {	// 	if ($(window).width() > 1023) {	// 		if (!flag) {	// 			$('.js-inner').hover(	// 				function() {	// 					$(this).css(	// 						{'height': heightInner, 'transition': 'all .5s'}	// 						)	// 					var contentHeigth = $(this).find('.js-content').height();	// 					$(this).find('.js-img').css(	// 						{'height': heightInner, 'transition': 'all .5s'}	// 						);	// 					$(this).closest('.last-deals__item').find('.last-deals__time').addClass('active');	// 				},	// 				function() {	// 					$(this).css('height', '100')	// 					$(this).find('.js-img').height(100);	// 					$(this).closest('.last-deals__item').find('.last-deals__time').removeClass('active');	// 				})	// 			flag = true;	// 		}	// 	} else {	// 		if (flag) {	// 			if (!flag) {	// 				$('.js-inner').hover(	// 					function() {	// 						$('.js-img').css({'height': '100'})	// 					},	// 					function() {	// 						$('.js-img').css({'height': '100'})	// 					})	// 				flag = true;	// 			}	// 		}	// 	}	// }	// imgHeight();	// $(window).on('resize',  function() {	// 	$('.last-deals__inner').removeClass('active');	// 	heightInner = $('.last-deals__inner').height();	// 	console.log(heightInner);	// 	name();	// 	imgHeight();	// })	var flag = false;	function imgHeight() {		if ($(window).width() > 1023) {			if (!flag) {				$('.js-inner').hover(					function() {						$(this).closest('.last-deals__item').find('.last-deals__time').addClass('active');					},					function() {						$(this).closest('.last-deals__item').find('.last-deals__time').removeClass('active');					})				flag = true;			}		} else {			if (flag) {				if (!flag) {					$('.js-inner').hover(						function() {						},						function() {						})					flag = true;				}			}		}	}	imgHeight();	function widthName() {		var widthItem = $('.last-deals__name').width();		var widthAll = $('.last-deals__list-item').width();		$('.last-deals__descr--name').width(widthAll - widthItem - 15);	}	widthName();	$(window).on('resize', widthName);	var toggler = false;	function showDescr() {		if ($(window).width() < 768) {			if (!toggler) {				$('.js-head').on('click', function() {					$(this).next().slideToggle();					$(this).toggleClass('active');				})				toggler = true;			}		} else {			if (toggler) {				$('.js-head').off('click');				$('.js-head').removeClass('active');				$('.js-show').removeAttr('style');				toggler = false;			}		}	}	showDescr();	$(window).on('resize', showDescr);
	$('.js-select-single').each(function () {	  $(this).select2();	})	function formatState(state) {	  var baseUrl = $(state.element).data('img');	  if (!$(state.element).data('img')) {	    return state.text	  }	  var $state = $(	    '<span class="img-wrap"> <img src=" ' + baseUrl + ' " class="img-game" /> <span class="game-text">' + state.text + '</span></span>'	  );	  return $state;	};	$('.js-select-multi').select2({	  templateResult: formatState,	  dropdownParent: $('.select-multi')	});	$('select').on('select2:open', function (e) {	  $('.select2-results__options').mCustomScrollbar('destroy');	  $('.select__dropdown .select2-results__options').mCustomScrollbar('update')	  setTimeout(function () {	    $('.select2-results__options').mCustomScrollbar({	      axis: "y"	    });	  }, 10);	});	function inputNumber() {	    $('.js-deal-price').on('keyup', function (event) {	      var regex = new RegExp(/[^0-9\.]/g);	      var key = String.fromCharCode(!event.charCode ? event.which : event.charCode);	      if (!regex.test(key)) {	        var string = $(this).val().replace(/([А-я])|(\s)/g, '').replace(/([A-z])|(\s)/g, '').replace(/(\d)(?=(\d\d\d)+([^\d]|$))/g, '$1 ');	        $(this).val(string);	        return false;	      } else {	        var string = $(this).val().replace(/([А-я])|(\s)/g, '').replace(/([A-z])|(\s)/g, '').replace(/(\d)(?=(\d\d\d)+([^\d]|$))/g, '$1 ');	        $(this).val(string);	      }	    });	//  jQuery('.js-deal-price').keyup(function () {	//    this.value = this.value.replace(/[^0-9\.]/g, '');	//  });	}	inputNumber();	function showAll() {		$('.js-show-all').on('click', function(e) {			e.preventDefault();			$(this).closest('.js-wrap-all').toggleClass('active');		})		$('.js-close-item').on('click', function() {			$(this).closest('.js-wrap-all').removeClass('active');		})	}	showAll();
	// function removeLink() {	// 	if ($(window).width() > 1023) {	// 		if (!flag) {	// 			flag = true;	// 		}	// 	} else {	// 		if (flag) {	// 			$('.platform__game-name').removeAttr('href');	// 			flag = false;	// 		}	// 	}	// }	// removeLink();	// $(window).on('resize', removeLink);	var flag1 = false;	function accPlatform() {		if ($(window).width() < 1024) {			if (!flag1) {				$('.platform__game-name').on('click', function(e) {					e.preventDefault();					$(this).next().slideToggle();					$(this).toggleClass('active');					$(this).closest('.platform__game-wrapp').toggleClass('active');				})				flag1 = true;			}		} else {			if (flag1) {				$('.platform__game-name').off('click');				$('.platform__game-name').removeClass('active');				$('.platform__game-wrapp').removeClass('active');				$('.platform__game-list').removeAttr('style');				flag1 = false;			}		}	}	accPlatform();	$(window).on('resize', accPlatform);
	function recommendSlider() {		$('.js-recommend-slider').slick({			dots: true,			infinite: false,			speed: 300,			slidesToShow: 4,			slidesToScroll: 2,			responsive: [			{				breakpoint: 1320,				settings: {					arrows: false,				}			},			{				breakpoint: 1024,				settings: {					arrows: false,					slidesToShow: 3,					slidesToScroll: 1,				}			},			{				breakpoint: 768,				settings: {					slidesToShow: 2,					slidesToScroll: 1				}			},			{				breakpoint: 480,				settings: {					slidesToShow: 1,					slidesToScroll: 1,					variableWidth: true				}			}			]		});	}	recommendSlider();	function displayItem() {		$('.js-block-item').on('click', function(e) {			e.preventDefault();			$(this).addClass('active');			$('.js-inline-item').removeClass('active');			$('.sort-game__item').removeClass('sort-game__item--inline');			$('.sort-game__item').removeClass('fadeIn1');			$('.sort-game__item').addClass('fadeOut');			$('.sort-game__item').removeClass('fadeOut');			$('.sort-game__item').addClass('fadeIn');			setTimeout(function() {				$('.sort-game__item').removeClass('fadeIn');			}, 500)		})		$('.js-inline-item').on('click', function(e) {			e.preventDefault();			$(this).addClass('active');			$('.js-block-item').removeClass('active');			$('.sort-game__item').addClass('sort-game__item--inline');			$('.sort-game__item').removeClass('fadeIn');			$('.sort-game__item').addClass('fadeOut');			$('.sort-game__item').removeClass('fadeOut');			$('.sort-game__item').addClass('fadeIn1');			setTimeout(function() {				$('.sort-game__item').removeClass('fadeIn1');			}, 500)		})		if ($(document).width() < 1023) {			$('.sort-game__item').addClass('sort-game__item--inline');			$('.js-block-item').removeClass('active');			$('.js-inline-item').addClass('active');		}	}	displayItem();	$(window).on('resize', displayItem);	//---------------------------------------//	// Подключаем основные скрипты ( develop )	//---------------------------------------//	;(function($) { 		function customSelect() {			$('.js-select').each(function() {				var $this = $(this),				numberOfOptions = $(this).children('option').length;				$this.addClass('select-hidden');				$this.wrap('<div class="select"></div>');				$this.after('<div class="select-styled"></div>');				var $styledSelect = $this.next('div.select-styled');				$styledSelect.text($this.children('option').eq(0).text());				var $list = $('<ul />', {					'class': 'select-options'				}).insertAfter($styledSelect);				for (var i = 0; i < numberOfOptions; i++) {					$('<li />', {						text: $this.children('option').eq(i).text(),						rel: $this.children('option').eq(i).val()					}).appendTo($list);				}				var $listItems = $list.children('li');				$styledSelect.click(function(e) {					e.stopPropagation();					$('div.select-styled.active').not(this).each(function() {						$(this).removeClass('active').next('ul.select-options').hide();					});					$(this).toggleClass('active').next('ul.select-options').toggle();				});				$listItems.click(function(e) {					e.stopPropagation();					$styledSelect.text($(this).text()).removeClass('active');					$this.val($(this).attr('rel'));					$list.hide();				});				$(document).click(function() {					$styledSelect.removeClass('active');					$list.hide();				});			});		}		customSelect();		$(".select-options").mCustomScrollbar({			axis:"y" 		});		$(".js-scroll-content").mCustomScrollbar({			axis:"y" 		});		function showMore() {			$('.js-more-info').on('click', function() {				$(this).closest('.js-content-info').toggleClass('active');				if ($(this).closest('.js-content-info').hasClass('active')) {					$(this).text('Скрыть');				} else {					$(this).text('Подробнее');				}			})		}		showMore();		if ($('.js-height').length){			$('.js-height').matchHeight({				byRow: true,				property: 'height',				target: null,				remove: false 			});		}		function tabs() {			var $wrap = $('.js-tabs-wrap');			if ($wrap.length) {				$wrap.each(function () {					var $that = $(this),					$tab = $that.find('.js-tab'),					$content = $that.find('.js-tab-content');					$tab.on('click', function (e) {						e.preventDefault();						var self = $(this),						index = self.index();						self.addClass('active').siblings().removeClass('active');						$content.eq(index).addClass('active').siblings().removeClass('active');					});				});			}		}		tabs();	}($));})