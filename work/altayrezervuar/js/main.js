function preloader() {	if ($('#preloader').length) {		setTimeout(function() {			$('#preloader').fadeOut('slow', function() {				$('body').removeClass('overflow-hidden').css('padding', '');			});		}, 1000);	}}$(window).on('load', preloader);//---------------------------------------//// Подключаем набор написаных скриптов (requare/developRequare.js)//---------------------------------------//// выполняем их после того, как DOM построится $(document).ready(function() {	 $.reject({  	//	header: 'Your browser is not supported here', // Header Text  	//	paragraph1: 'You are currently using an unsupported browser', // Paragraph 1  	//	paragraph2: 'Please install one of the many optional browsers below to proceed',  	//	closeMessage: 'Close this window at your own demise!' // Message below close window link  		 reject: { 			all: false,			msie: 9,			chrome: 40,			firefox: 30,			safari4: 4		}, 		display: [], // What browsers to display and their order (default set below)		browserShow: true, // Should the browser options be shown?		browserInfo: { // Settings for which browsers to display			chrome: {				// Text below the icon				text: 'Google Chrome',				// URL For icon/text link				url: 'http://www.google.com/chrome/'				// (Optional) Use "allow" to customized when to show this option				// Example: to show chrome only for IE users				// allow: { all: false, msie: true }			},			firefox: {				text: 'Mozilla Firefox',				url: 'http://www.mozilla.com/firefox/'			},			safari: {				text: 'Safari',				url: 'http://www.apple.com/safari/download/'			},			opera: {				text: 'Opera',				url: 'http://www.opera.com/download/'			},			msie: {				text: 'Microsoft Edge',				url: 'http://www.microsoft.com/'			}		},		// Pop-up Window Text		header: 'Did you know that your Internet Browser is out of date?',		paragraph1: 'Your browser is out of date, and may not be compatible with '+					'our website. A list of the most popular web browsers can be '+					'found below.',		paragraph2: 'Just click on the icons to get to the download page',		// Allow closing of window		close: true,		// Message displayed below closing link		closeMessage: 'By closing this window you acknowledge that your experience '+						'on this website may be degraded',		closeLink: 'Close This Window',		closeURL: '#',		// Allows closing of window with esc key		closeESC: true,		// Use cookies to remmember if window was closed previously?		closeCookie: false,		// Cookie settings are only used if closeCookie is true		cookieSettings: {			// Path for the cookie to be saved on			// Should be root domain in most cases			path: '/',			// Expiration Date (in seconds)			// 0 (default) means it ends with the current session			expires: 0		},		// Path where images are located		imagePath: './img/browsers/',		// Background color for overlay		overlayBgColor: '#000',		// Background transparency (0-1)		overlayOpacity: 0.8,		// Fade in time on open ('slow','medium','fast' or integer in ms)		fadeInTime: 'fast',		// Fade out time on close ('slow','medium','fast' or integer in ms)		fadeOutTime: 'fast',		// Google Analytics Link Tracking (Optional)		// Set to true to enable		// Note: Analytics tracking code must be added separately		analytics: false	}); 	//---------------------------------------//	// Подключаем скрипты компонентов страниц ( modules )	//---------------------------------------//	function cardProductSlider() {	  $('.js-card-product-slider').slick({	    slidesToShow: 1,	    slidesToScroll: 1,	    arrows: false,	    fade: false,	    swipe: true,	    swipeToSlide: true,	    asNavFor: '.js-card-product-slider-nav'	  });	  $('.js-card-product-slider-nav').slick({	    slidesToShow: 5,	    slidesToScroll: 1,	    asNavFor: '.js-card-product-slider',	    arrows: false,	    focusOnSelect: true,	    centerMode: false,	    infinite: true,	    variableWidth: true,	    responsive: [	    {	      breakpoint: 1023,	      settings: {	        slidesToShow: 3,	        variableWidth: true,	        swipe: true,	        swipeToSlide: true,	        centerMode: false	      }	    }	    ]	  });	}	cardProductSlider();	function cardProductTabs() {	  var wrap = $('.js-tabs');	  wrap.each(function() {	    var self = $(this),	    tab = self.find('.js-tab-link'),	    content = self.find('.js-tab-content');	    tab.on('click', function(e) {	      e.preventDefault();	      var href = $(this).attr('href');	      $('.js-tab-item').removeClass('active');	      $(this).closest('.js-tab-item').addClass('active');	      content.removeClass('active');	      $(href).addClass('active');	    })	  })	}	cardProductTabs();	function cardProductTabsSlider(){	  var flag = false;	  function init() {	    if (window.innerWidth < 768) {	      if (!flag) {	        var $slickTabsSlider = $('.js-tabs-slider');	        $slickTabsSlider.slick({	          slidesToShow: 3,	          slidesToScroll: 1,	          infinite: false,	          variableWidth: true,	          responsive: [	          {	            breakpoint: 560,	            settings: {	              slidesToShow: 1,	              slidesToScroll: 1,	            }	          },	          {	            breakpoint: 375,	            settings: {	              slidesToShow: 1,	              slidesToScroll: 1,	            }	          }	          ]	        });	      }	      flag = true;	    } 	    else {	      if (flag) {	        $('.js-tabs-slider').slick('unslick');	        flag = false;	      }	    }	  }	  if ($('.js-tabs-slider').length) {	    init();	    $(window).on('resize', init);	  }	}	cardProductTabsSlider();	function toggleText() {	  $('.js-toggle-btn').on('click', function (e) {	  e.preventDefault();	  var id  = $(this).attr('href'),	      top = $(id).offset().top;	  $('body,html').animate({scrollTop: top}, 1500);	});	}	toggleText();
	;(function($) {		function contactsMap() {			var mapBlock = $('#map');			if (mapBlock.length) {				try {					jQuery.getScript('https://api-maps.yandex.ru/2.1/?lang=ru_RU', function() {									ymaps.ready(init);						var myMap,								myPlacemark;						function init() {							var itemCoord = $('.contacts__map').attr('data-coord'),									itemCenter = $('.contacts__map').attr('data-center');							itemCoord = JSON.parse(itemCoord);							itemCenter = JSON.parse(itemCenter);							myMap = new ymaps.Map("map", {								center: itemCenter,								zoom: 16,								controls: []							});							MyIconContentLayout = ymaps.templateLayoutFactory.createClass(	            '<div style="position: absolute; top: 36px; left: 25px; z-index: -1; color: #505050; width: 210px; font-size: 15px; background: #ffffff; padding: 2px 10px 3px 32px; border-radius: 4px 30px 30px 4px;">$[properties.iconContent]</div>'	        		),							myPlacemark = new ymaps.Placemark(itemCoord, {								iconContent: 'Проезд 9-й заводской'							}, {								iconLayout: 'default#imageWithContent',	            	iconImageHref: 'pic/mark.png',	            	iconImageSize: [51, 63],	            	iconContentLayout: MyIconContentLayout							});							myMap.geoObjects.add(myPlacemark);							myMap.behaviors.disable('scrollZoom'); 						}					})			  } catch(e) {					console.log(e);			  }						}		}		contactsMap();	}($));
	function autoFooter() {		var footer = $('.footer');		if ($('.footer').length) {			var wrapper = $('.wrapper');			var footerHeight = footer.outerHeight();			footer.css('margin-top', -footerHeight);			wrapper.css('padding-bottom', footerHeight);		}	}	setTimeout(autoFooter, 100);	$(window).on('resize', autoFooter);
	function goodsSlider(){		var flag = false;		function init() {			if (window.innerWidth > 480) {				if (!flag) {					$('.js-goods-slider').slick({						infinite: true,						slidesToShow: 4,						slidesToScroll: 1,						responsive: [						{							breakpoint: 1024,							settings: {								slidesToShow: 3,								slidesToScroll: 1							}						},						{							breakpoint: 768,							settings: {								slidesToShow: 2,								slidesToScroll: 1							}						}						]					});				}				flag = true;			} 			else {				if (flag) {					$('.js-goods-slider').slick('unslick');					flag = false;				}			}		}		if ($('.js-goods-slider').length) {			init();			$(window).on('resize', init);		}	}	goodsSlider();	function changeContent(btn, link) {		$(btn).on('click', function() {			$(this).addClass('active').siblings().removeClass('active')			$.ajax({				dataType: "html",				url: link,				success: function (data) {					$('.js-goods-wrap').empty();					$('.js-goods-wrap').append(data);					goodsSlider();				}			});		})	}	changeContent('.js-leader-btn', "/items-leader.html");	changeContent('.js-novelty-btn', "/items-novelty.html");	changeContent('.js-sale-btn', "/items-sale.html");	changeContent('.js-best-btn', "/items-best.html");
	function showMenu() {		$('.js-btn-menu').on('click', function() {			$('.js-menu').toggleClass('active');			$(this).toggleClass('active');			$('.header').toggleClass('active');		})		$(document).on('click', function(e) {			if (!$(e.target).closest('.js-menu').length && !$(e.target).closest('.js-btn-menu').length) {				$('.js-menu').removeClass('active');				$('.js-btn-menu').removeClass('active');			}		})	}	showMenu();
	function tabsSlider(){		var flag = false;		function init() {			if (window.innerWidth < 457) {				if (!flag) {					$('.js-slider-tab').slick({						infinite: false,						slidesToShow: 1,						slidesToScroll: 1,						variableWidth: true					});				}				flag = true;			} 			else {				if (flag) {					$('.js-slider-tab').slick('unslick');					flag = false;				}			}		}		if ($('.js-slider-tab').length) {			init();			$(window).on('resize', init);		}	}	// tabsSlider();
	function printNumbersInterval(cl, value, num, time) {		var i = 0;		var timerViewed = setInterval(function() {			$(cl).text(i);			if (i == value) clearInterval(timerViewed);			i = i + num;		}, time);	}	var interval = setInterval(function() {		if ($('.number').length) {			var target = $('.number').offset().top - $(window).height() + 100;			if ($(window).scrollTop() >= target) {				printNumbersInterval('.js-year', 10, 1, 100);				printNumbersInterval('.js-square', 3400, 100, 40);				printNumbersInterval('.js-jobs', 30, 5, 220);				clearInterval(interval);			}		}	}, 250);
	 $('.js-slider-info').slick({	   slidesToShow: 1,	   slidesToScroll: 1,	   arrows: false,	   asNavFor: '.js-slider-info-nav',	   swipe: true,	   swipeToSlide: true	 });	 $('.js-slider-info-nav').slick({	   slidesToShow: 5,	   slidesToScroll: 1,	   asNavFor: '.js-slider-info',	   infinite: true,	   dots: false,	   arrows: false,	   centerMode: false,	   focusOnSelect: true,	   responsive: [	     {	       breakpoint: 1024,	       settings: {	         slidesToShow: 3,	         variableWidth: true,	         centerMode: false	       }		}		]	 });	function projectSlider() {	  $('.js-project-slider').slick({	    slidesToShow: 1,	    slidesToScroll: 1,	    arrows: false,	    fade: false,	    asNavFor: '.js-project-slider-nav',	    infinite: false	  });	  $('.js-project-slider-nav').slick({	    slidesToShow: 5,	    slidesToScroll: 1,	    asNavFor: '.js-project-slider',	    arrows: false,	    focusOnSelect: true,	    infinite: true,	    variableWidth: true,	    responsive: [	      {	        breakpoint: 1023,	        settings: {	          slidesToShow: 3,	          variableWidth: true,	          swipe: true,	          swipeToSlide: true	        }	      }	    ]	  });	}	projectSlider();	//---------------------------------------//	// Подключаем основные скрипты ( develop )	//---------------------------------------//	function fileName() {		$('input[type="file"]').on('change', function (event, files, label) {			var file_name = this.value.replace(/\\/g, '/').replace(/.*\//, '')			$('.filename').text(file_name);		});	}	fileName();	function customSelect() {		$('.js-select').each(function () {			var $this = $(this),			numberOfOptions = $(this).children('option').length;			$this.addClass('select-hidden');			$this.wrap('<div class="select"></div>');			$this.after('<div class="select-styled"></div>');			var $styledSelect = $this.next('div.select-styled');			$styledSelect.text($this.children('option').eq(0).text());			var $list = $('<ul />', {				'class': 'select-options'			}).insertAfter($styledSelect);			for (var i = 0; i < numberOfOptions; i++) {				$('<li />', {					text: $this.children('option').eq(i).text(),					rel: $this.children('option').eq(i).val()				}).appendTo($list);			}			var $listItems = $list.children('li');			$styledSelect.on('click', function (e) {				e.stopPropagation();				$('div.select-styled.active').not(this).each(function () {					$(this).removeClass('active').next('ul.select-options').hide();				});				$(this).toggleClass('active').next('ul.select-options').toggle();			});			$listItems.on('click', function (e) {				e.stopPropagation();				$styledSelect.text($(this).text()).removeClass('active');				$this.val($(this).attr('rel'));				$list.hide();			});			$(document).on('click', function () {				$styledSelect.removeClass('active');				$list.hide();			});		});	}	customSelect();	function heightBox(itemName) {		if (itemName === undefined) {			itemName = '.js-height'		}		$(itemName).matchHeight({			byRow: true,			property: 'height',			target: null,			remove: false		});	}	heightBox();	heightBox('.js-height-caption');	heightBox('.js-height-descr');	function marginSize(element, styleCss) {		var windowWidth = $(window).width(),		containerWidth = $('.container').width(),		marginWidth = (windowWidth - containerWidth) / 2;		$(element).css(styleCss, -marginWidth)	}	$(window).on('resize', function () {		marginSize('.about__tagline-inner', 'margin-left');		marginSize('.js-ml', 'margin-left');		marginSize('.js-mr', 'margin-right');	})	marginSize('.about__tagline-inner', 'margin-left');	marginSize('.js-ml', 'margin-left');	marginSize('.js-mr', 'margin-right');	$('[data-fancybox]').fancybox({		touch: false	})	function phoneMask() {		var maskList = $.masksSort($.masksLoad("phone-codes.json"), ['#'], /[0-9]|#/, "mask");		var maskOpts = {			inputmask: {				definitions: {					'#': {						validator: "[0-9]",						cardinality: 1					}				},				showMaskOnHover: false,				autoUnmask: true			},			match: /[0-9]/,			replace: '#',			list: maskList,			listKey: "mask",			onMaskChange: function (maskObj, completed) {				var hint = maskObj.name_ru;				if (maskObj.desc_ru && maskObj.desc_ru != "") {					hint += " (" + maskObj.desc_ru + ")";				}			}		};		$('input[type="tel"]').inputmasks(maskOpts);	}	phoneMask();	$(function () {		sendRequest();	});	// Отправка на сервер данных из формы обратной связи и их проверка	function sendRequest() {		$(document).on('click', '.js-send-request', function (e) {			e.preventDefault();			var $btn = $(this),			type = $btn.data('type'),			str = $btn.closest('form').serialize();		// Предотвращение повторной отправки, до ответа от сервера		if ($btn.hasClass('sending')) return false;		$btn.addClass('sending');		$.ajax({			type: "POST",			url: "send.php",			data: str + '&ajax=' + type,			success: function (response) {				validate($btn, response);				$btn.removeClass('sending');				$btn.addClass('send');				$.fancybox.close();				$.fancybox.open($('#popup-success'));				setTimeout(function () {					$.fancybox.close();				}, 2000)			}		});	});		return false;	}	// Получение от сервера ошибок валидации и их обработка	function validate(object, errors, phone) {		var $obj = $(object),		type = $obj.attr('data-type'),		$form = $obj.closest('form'),		$formGroup = $form.find('.form-group'),		$errorBox = $form.find('.form-error'),		$gCap = $('.g-recaptcha'),		$modal = $('.modal');	  // errors   		= $.parseJSON(errors);	  $form.find('.form-error').remove();	  $formGroup.removeClass('error').addClass('success');	  $errorBox.remove();	  if ($gCap.length) {	  	grecaptcha.reset();	  }	  if (!isEmpty(errors)) {	  	for (var message in errors) {	  		var $target;	  		switch (message) {	  			case 'recaptcha':	  			$target = $form.find('textarea[name="g-recaptcha-response"]');	  			$target.closest('.form-group').addClass('error').removeClass('success').append('<div class="form-error">' + errors[message] + '</div>');	  			break;	  			default:	  			$target = $form.find('input[name=' + message + '], textarea[name=' + message + ']');	  			$target.closest('.form-group').addClass('error').removeClass('success').append('<div class="form-error">' + errors[message] + '</div>');	  		}	  	}	  } else {	  	$obj.parents('form').find('.form-group').removeClass('success');	  	switch (type) {	  		case 'consultate':	  		$.fancybox.close();	  		$.fancybox.open($('#popup-success'));	  		setTimeout(function () {	  			$.fancybox.close();	  		}, 2000)	  		break;	  		default:	  		$.fancybox.close();	  		$.fancybox.open($('#popup-success'));	  		setTimeout(function () {	  			$.fancybox.close();	  		}, 2000)	  	}	  	$form.find('input[type!=hidden], textarea').val('');	  }	}	function isEmpty(object) {		for (var prop in object) {			if (object.hasOwnProperty(prop)) {				return false;			}		}		return true;	}})