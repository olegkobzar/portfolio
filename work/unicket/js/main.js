function preloader() {	if ($('#preloader').length) {		setTimeout(function() {			$('#preloader').fadeOut('slow', function() {				$('body').removeClass('overflow-hidden').css('padding', '');			});		}, 1000);	}}$(window).on('load', preloader);//---------------------------------------//// Подключаем набор написаных скриптов (requare/developRequare.js)//---------------------------------------//// выполняем их после того, как DOM построится $(document).ready(function() {	 $.reject({  	//	header: 'Your browser is not supported here', // Header Text  	//	paragraph1: 'You are currently using an unsupported browser', // Paragraph 1  	//	paragraph2: 'Please install one of the many optional browsers below to proceed',  	//	closeMessage: 'Close this window at your own demise!' // Message below close window link  		 reject: { 			all: false,			msie: 9,			chrome: 40,			firefox: 30,			safari4: 4		}, 		display: [], // What browsers to display and their order (default set below)		browserShow: true, // Should the browser options be shown?		browserInfo: { // Settings for which browsers to display			chrome: {				// Text below the icon				text: 'Google Chrome',				// URL For icon/text link				url: 'http://www.google.com/chrome/'				// (Optional) Use "allow" to customized when to show this option				// Example: to show chrome only for IE users				// allow: { all: false, msie: true }			},			firefox: {				text: 'Mozilla Firefox',				url: 'http://www.mozilla.com/firefox/'			},			safari: {				text: 'Safari',				url: 'http://www.apple.com/safari/download/'			},			opera: {				text: 'Opera',				url: 'http://www.opera.com/download/'			},			msie: {				text: 'Microsoft Edge',				url: 'http://www.microsoft.com/'			}		},		// Pop-up Window Text		header: 'Did you know that your Internet Browser is out of date?',		paragraph1: 'Your browser is out of date, and may not be compatible with '+					'our website. A list of the most popular web browsers can be '+					'found below.',		paragraph2: 'Just click on the icons to get to the download page',		// Allow closing of window		close: true,		// Message displayed below closing link		closeMessage: 'By closing this window you acknowledge that your experience '+						'on this website may be degraded',		closeLink: 'Close This Window',		closeURL: '#',		// Allows closing of window with esc key		closeESC: true,		// Use cookies to remmember if window was closed previously?		closeCookie: false,		// Cookie settings are only used if closeCookie is true		cookieSettings: {			// Path for the cookie to be saved on			// Should be root domain in most cases			path: '/',			// Expiration Date (in seconds)			// 0 (default) means it ends with the current session			expires: 0		},		// Path where images are located		imagePath: './img/browsers/',		// Background color for overlay		overlayBgColor: '#000',		// Background transparency (0-1)		overlayOpacity: 0.8,		// Fade in time on open ('slow','medium','fast' or integer in ms)		fadeInTime: 'fast',		// Fade out time on close ('slow','medium','fast' or integer in ms)		fadeOutTime: 'fast',		// Google Analytics Link Tracking (Optional)		// Set to true to enable		// Note: Analytics tracking code must be added separately		analytics: false	}); 	//---------------------------------------//	// Подключаем скрипты компонентов страниц ( modules )	//---------------------------------------//	function tableText() {		if ($('.js-table-air-link').length) {			var $link = $('.js-table-air-link');				$link.mouseover(function() {					$(this).text('Выбрать даты');				});				$link.mouseout(function() {					$(this).text('Каждый день');				});		}	}	tableText();		function contactsMap() {			var mapBlock = $('#airport-map');			if (mapBlock.length) {				try {					jQuery.getScript('https://api-maps.yandex.ru/2.1/?lang=ru_RU', function() {									ymaps.ready(init);						var myMap;						function init() {							myMap = new ymaps.Map("airport-map", {								center: [55.966324, 37.416573],								zoom: 13,								controls: [],								type: 'yandex#satellite'							});						}					})			  } catch(e) {					console.log(e);			  }						}		}		contactsMap();
	;(function () {	  //add focus state to month ckeckbox blocks	  function addFocusMonth() {	    var $label = $('.js-month-label');	    if($label.length) {	      $label.on('click',function() {	        $(this).addClass('focus');	      });	      $label.on('mouseenter',function() {	        $(this).removeClass('focus');	      }); 	    }	  }	  addFocusMonth();	  //holiday duration slider	  function holidayDuration() {	    var $slider = $('.js-duration-range');	    var $min = $('.js-duration-min');	    var $max = $('.js-duration-max');	    if ($slider.length) {  	      $slider.each(function() {	          var self = $(this),	              min = self.data('min'),	              max = self.data('max'),	              start = self.data('start'),	              end = self.data('end');	          self.slider({	              range: true,	              min: min,	              max: max,	              step: 1,	              values: [start, end],	              slide: function(event, ui) {	                $min.val(ui.values[0]);	                $max.val(ui.values[1]);	              },	              change: function(event, ui) {	                $min.val(ui.values[0]);	                $max.val(ui.values[1]);	              },	              create: function(event, ui) {	                  var values = $(this).slider('values');	                  $min.val(values[0]);	                  $max.val(values[1]);	              }	          });	      });	    }	  }	  holidayDuration();	})();
	;(function () {	  //calendar filter slider	  function calendarSlider() {	    var $sliderBox = $('.js-filters-range');	    var $slider = $('.js-filters-range-slider');	    var $min = $('.js-filters-range-min');	    var $max = $('.js-filters-range-max');	    var $minText = $('.js-filters-range-min-text');	    var $maxText = $('.js-filters-range-max-text');	    if ($slider.length) {  	      $sliderBox.each(function() {	        var self = $(this),	          slider = self.find($slider),	          min = slider.data('min'),	          max = slider.data('max'),	          start = slider.data('start'),	          end = slider.data('end'),	          minText = self.find($minText),	          maxText = self.find($maxText);	        slider.slider({	          range: true,	          min: min,	          max: max,	          step: 1,	          values: [start, end],	          slide: function(event, ui) {	            $min.val(ui.values[0]);	            $max.val(ui.values[1]);	            minText.html(ui.values[0]);	            maxText.html(ui.values[1]);	          },	          change: function(event, ui) {	            $min.val(ui.values[0]);	            $max.val(ui.values[1]);	            minText.html(ui.values[0]);	            maxText.html(ui.values[1]);	          },	          create: function(event, ui) {	              var values = $(this).slider('values');	              $min.val(values[0]);	              $max.val(values[1]);	          }	        });	      });	    }	  }	  calendarSlider();	  //highlight and drodown day in calendar	  function dropDayHighlight() {	    var $day = $('.js-calendar-day'),	        $button = $('.js-calendar-highlight'),	        $drop = $('.js-calendar-drop');	    if($day.length) {	      $day.on('click', function(e) {	        e.preventDefault();	        $(this).toggleClass('active');	        $(this).next($drop).slideToggle();	      })	    }	    if($button.length) {	      $button.on('click', function(e) {	        e.preventDefault();	        var button = $(this);	        $day.removeClass('highlight');	        $drop.slideUp();	        $day.each(function() {	          if($(this).data('highlight') == button.data('highlight')) {	            $(this).addClass('highlight');	            $('html, body').animate({scrollTop: $(this).offset().top}, 800);	            $(this).next($drop).slideToggle();	          }	        })	      })	    }	  }	  dropDayHighlight();	})();
	function tabsCatalog() {		$(".js-catalog-tab").click(function() {			$(".js-catalog-tab").removeClass("active").eq($(this).index()).addClass("active");		 	$(".js-catalog-content").hide().eq($(this).index()).fadeIn()		}).eq(0).addClass("active");	}	tabsCatalog();
	function tabsCountries() {		$(".js-countries-tab").click(function() {			$(".js-countries-tab").removeClass("active").eq($(this).index()).addClass("active");		 	$(".js-countries-content").hide().eq($(this).index()).fadeIn()		}).eq(0).addClass("active");	}	tabsCountries();
	;(function () {	    var countrySlider = $('.js-country-slider');	    if(countrySlider.length) {	        countrySlider.slick ({	            slidesToShow: 1,	            slidesToScroll: 1,	            dots: false,	            nextArrow: '<div class="slider-arrow-country slider-arrow-country--next"><div class="arrow-right"></div></div>',	            prevArrow: '<div class="slider-arrow-country slider-arrow-country--prev"><div class="arrow-left"></div></div>'	        })	    }	})();
	(function () {	    var footer = $('.js-footer');	    function autoFooter() {	      if ($('.js-footer').length) {	          var wrapper = $('.wrapper');	          var footerHeight = footer.outerHeight();	          footer.css('margin-top', -footerHeight);	          wrapper.css('padding-bottom', footerHeight);	      }	    }	    setTimeout(autoFooter, 100);	    $(window).on('resize', autoFooter);	})();	function openElem() {		$('.js-login-btn').on('click', function() {			$('.js-header-login').toggleClass('active');			$('.js-bg-login').toggleClass('active');		})		$(document).on('click', function(e){	    	if (!$(e.target).closest('.js-bg-login').length) {	    		$('.js-header-login').removeClass('active');				$('.js-bg-login').removeClass('active');	    	}	    })	    $('.js-nav-btn').on('click', function() {	    	$('.js-header-nav').toggleClass('active');			$('.js-bg-nav').toggleClass('active');	    })	    $(document).on('click', function(e){	    	if (!$(e.target).closest('.js-bg-nav').length) {	    		$('.js-header-nav').removeClass('active');				$('.js-bg-nav').removeClass('active');	    	}	    })	     $('.js-lang-btn').on('click', function() {	    	$('.js-header-lang').toggleClass('active');			$('.js-bg-lang').toggleClass('active');	    })	    $(document).on('click', function(e){	    	if (!$(e.target).closest('.js-bg-lang').length && !$(e.target).closest('.ui-selectmenu-menu').length) {	    		$('.js-header-lang').removeClass('active');				$('.js-bg-lang').removeClass('active');	    	}	    })	}	openElem();	;	(function($) {		function hotelSlider(){	    var hotelSlider = $('.js-hotel-slider');	    if(hotelSlider.length) {	        hotelSlider.each(function() {	    	var currentHotelSlide = $(this).find('.js-hotel-dots-is');	        var allDotsSlide = $(this).find('.js-hotel-dots-all');			allDotsSlide.text($(this).find('.js-get-slides-number').length);	        $(this).slick ({	            slidesToShow: 1,	            slidesToScroll: 1,	            dots: false,	            nextArrow: '<div class="slider-arrow-hotel slider-arrow-hotel--next"><div class="arrow-right"></div></div>',	            prevArrow: '<div class="slider-arrow-hotel slider-arrow-hotel--prev"><div class="arrow-left"></div></div>'	        })	        .on('beforeChange', function (event, slick, currentSlide, nextSlide) {	          currentHotelSlide.text(nextSlide + 1);	        });	    });	    }		}		hotelSlider();	}($));
	function accordeonNav() {		var $link = $('.js-nav-link'),	     	$content = $('.js-accordeon-nav');	 		if($link.length) {	 			$link.on('click', function() { 					if (window.innerWidth <= 767) {	 			      $(this).toggleClass('active');	 			      $(this).next($content).slideToggle();	 			  }	 			})	 		}	}	accordeonNav();
	;(function() {	    function masonryGrid() {	    	var $grid = $('.js-grid');	        $grid.masonry({	          itemSelector: '.grid-item',	          columnWidth: '.grid-sizer',	          percentPosition: true	        });	    }	    masonryGrid();	})();	;(function () {	  //datepicker ui	  $(document).on('focus', '.js-selection-date-input', function(){	      $(this).datepicker({	        showOtherMonths: true,	        selectOtherMonths: true	      });	  });	  $(document).on('focus', '.js-selection-date-range', function() {	    var $parent = $(this).parents('.js-selection-item');	    var $start = $parent.find('.js-selection-date-first');	    var $end = $parent.find('.js-selection-date-second');	    var $drop = $parent.find('.js-drop-daterange');	    $drop.css({	      //top: $(this).offset().top + $(this).outerHeight(),	      top: $(this).offset().top,	      left: $(this).offset().left	    }).fadeIn();	      $parent.find('.js-datepicker').datepicker({	        //showButtonPanel: true,	        showOtherMonths: true,	        selectOtherMonths: true,	        range: 'period',	        onSelect: function(dateText, instance, extensionRange) {	          $start.val(extensionRange.startDateText);	          $end.val(extensionRange.endDateText);  	        },	      });	        // объект расширения (хранит состояние календаря)	        var extensionRange = $(this).datepicker('widget').data('datepickerExtensionRange');	        if(extensionRange.startDateText) $start.val(extensionRange.startDateText);	        if(extensionRange.endDateText) $end.val(extensionRange.endDateText);	  });	   $(document).on('click', 'body', function(e) {	      var $input = $('.js-selection-date-range'),	          $drop = $('.js-drop-daterange');	      var $target = $(e.target);	      var isInput = $target.is($input);	      var isDrop = $target.is($drop) || $target.parents().is($drop);	      if(!isInput && !isDrop) {	         $drop.fadeOut();	       }	    });	  //dropdown passengers quantity	  function selectionDropdown() {	    var $link = $('.js-selection-drop-link'),	        $drop = $('.js-selection-dropdown');	    $link.on('click', function() {	      $(this).toggleClass('active');	      $(this).next($drop).toggleClass('active');	    });	    $(document).on('click', 'body', function(e) {	      var $target = $(e.target);	      var isLink = $target.is($link) || $target.parents().is($link);	      var isDrop = $target.is($drop) || $target.parents().is($drop);	      //console.log($target,isLink,isDrop);	      if(!isLink && !isDrop) {	         $link.removeClass('active');	         $drop.removeClass('active');	       }	    });	  }	  selectionDropdown();	  //autocomplete and reverse city	  function reverseCity() {	    var availableCities = [	      "Краснодар",	      "Санкт-Петербург",	      "Америка",	      "Бразилия",	      "Бангладеш",	      "Гондурас",	      "Гоа",	      "Габон",	      "Германия",	      "Грузия",	      "Греция",	      "Дания",	      "Джибути",	      "Израиль",	      "Индия",	      "Испания",	      "Казахстан",	      "Канада",	      "Латвия",	      "Люксембург",	      "Мадагаскар",	      "Македония",	      "ОАЭ"	    ];	    $(document).on('focus', '.js-selection-city-input', function(){	        $(this).autocomplete({	          source: availableCities	        });	    });	    $(document.body).on('click', '.js-selection-change-city' ,function(e){	      e.preventDefault();	      var $parent = $(this).parents('.js-selection-item');	      var $firstCity = $parent.find('.js-selection-first-city');	      var $secondCity = $parent.find('.js-selection-second-city');	      var tempCity = $firstCity.val();	      $firstCity.val($secondCity.val());	      $secondCity.val(tempCity);	    });	  }	  reverseCity();	  //calculate passengers quantity	  function addPassengers() {	    $('.js-selection-passengers-people').on('change',function() {	      var qtyPass = 0;	      var $parent = $(this).parents('.js-selection-passengers');	      var $passTarget = $parent.find('.js-selection-passengers-qty');	      var $passInput = $parent.find('.js-selection-passengers-input');	      var $passClass = $parent.find('.js-selection-passengers-class');	      var $allPass = $parent.find('.js-selection-passengers-people');	      $allPass.each(function() {	        qtyPass += parseInt($(this).val());	      });	      var qtyWords = [];	      var words = $passInput.data('words');	      $.map(words, function(value, key) {	        qtyWords.push(value);	      });	      var qtyText = declOfNum(qtyWords, qtyPass);	      $passTarget.html(qtyPass + ' ' + qtyText);	      if($passClass.length) {	        $passInput.val($passTarget.html()+', '+ $passClass.html());	      } else {	        $passInput.val($passTarget.html());                                    	      }	    })	  }	  addPassengers();	  //quantity word declension for russian	  var declOfNum = (function(){	      var cases = [2, 0, 1, 1, 1, 2];	      var declOfNumSubFunction = function(titles, number){	          number = Math.abs(number);	          return titles[ (number%100>4 && number%100<20)? 2 : cases[(number%10<5)?number%10:5] ];	      }	      return function(_titles) {	          if ( arguments.length === 1 ){	              return function(_number){	                  return declOfNumSubFunction(_titles, _number)	              }	          }else{	              return declOfNumSubFunction.apply(null,arguments)	          }	      }	  })()	  //change flight class	  function flightClass() {	    $('.js-selection-passengers-business-class').on('change',function() {	      var $parent = $(this).parents('.js-selection-passengers');	      var $passInput = $parent.find('.js-selection-passengers-input');	      var $passQty = $parent.find('.js-selection-passengers-qty');	      var $passClass = $parent.find('.js-selection-passengers-class');	      if($(this).is(':checked')) {	        $passClass.html($(this).data('value'));	      } else {	        $passClass.html($(this).data('invert'));	      }	      $passInput.val($passQty.html()+', '+ $passClass.html());	      //console.log($passInput.val());	    })	  }	  flightClass();	  //toggle between simple and complex route	  function toggleRoute() {	    $('.js-complex-route-toggle').on('click', function(e) {	      e.preventDefault();	      $('.js-selection-route').toggleClass('active');	    })	  }	  toggleRoute();	  //add flight fields	  function addFlight() {	    var $row = $('.js-selection-row');	    var counter = 4;	    var $flight = $row.first().clone();	    $('.js-selection-addflight').on('click', function(e) {	      e.preventDefault();	      var $newFlight = $flight.clone();	      $newFlight.find('.js-selection-first-city').attr('name','city-first-'+counter);	      $newFlight.find('.js-selection-second-city').attr('name','city-second-'+counter);	      $newFlight.find('.js-selection-date-input').attr('name','date-'+counter).attr('id','date-avia-'+counter);	      $newFlight.find('.js-selection-date-label').attr('for','date-avia-'+counter);	      $newFlight.insertBefore($('.js-selection-last-row'));	      counter++;	    })	  }	  addFlight();	})();	function tabsStatistics() {		$(".js-statistics-tab").click(function() {			$(".js-statistics-tab").removeClass("active").eq($(this).index()).addClass("active");		 	$(".js-statistics-content").hide().eq($(this).index()).fadeIn()		}).eq(0).addClass("active");	}	tabsStatistics();	//---------------------------------------//	// Подключаем основные скрипты ( develop )	//---------------------------------------//	;	(function ($) {	  // ui scripts	  $('.js-select-ui').selectmenu({	  });	  var citiesTags = [	    "Австралия",	    "Аргентина",	    "Америка",	    "Бразилия",	    "Бангладеш",	    "Гондурас",	    "Гоа",	    "Габон",	    "Германия",	    "Грузия",	    "Греция",	    "Дания",	    "Джибути",	    "Израиль",	    "Индия",	    "Испания",	    "Казахстан",	    "Канада",	    "Латвия",	    "Люксембург",	    "Мадагаскар",	    "Македония",	    "ОАЭ"	  ];	  $(".js-autocomplete-ui-cities").autocomplete({	    source: citiesTags	  });	  var countriesTags = [	    "Австралия",	    "Аргентина",	    "Америка",	    "Бразилия",	    "Бангладеш",	    "Гондурас",	    "Гоа",	    "Габон",	    "Германия",	    "Грузия",	    "Греция",	    "Дания",	    "Джибути",	    "Израиль",	    "Индия",	    "Испания",	    "Казахстан",	    "Канада",	    "Латвия",	    "Люксембург",	    "Мадагаскар",	    "Македония",	    "ОАЭ"	  ];	  $(".js-autocomplete-ui-countries").autocomplete({	    source: countriesTags	  });	  var airlinesTags = [	    "Аврора",	    "Алроса",	    "Азербайджанские авиалинии",	    "Ай Флай",	    "(Azal)",	    "Азимут"	  ];	  $(".js-autocomplete-ui-airlines").autocomplete({	    source: airlinesTags	  });	  var airportTags = [	    "Августо Северо",	    "Авиано",	    "Авиньон",	    "Агартала",	    "Агатти",	    "Агры",	    "Аделаида",	    "Ади-Самармо",	    "Адирондак",	    "Саранак Лейк",	    "Аднан Мендерес"	  ];	  $(".js-autocomplete-ui-airport").autocomplete({	    source: airportTags	  });	    // ui select lang	    $.widget( "custom.iconselectmenu", $.ui.selectmenu, {	      _renderItem: function( ul, item ) {	        var li = $( "<li>" ),	        wrapper = $( "<div>", { text: item.label } );	        $( "<span>", {	          style: item.element.attr( "data-style" ),	          "class": "ui-icon lang-icon " + item.element.attr( "data-class" )	        })	        .appendTo( wrapper );	        return li.append( wrapper ).appendTo( ul );	      }	    });	    $( ".js-delivery" )	      .iconselectmenu({	        select: function(event, ui) {	          var style = ui.item.element.data('style');	          $('.js-delivery-box .ui-selectmenu-text').attr('style', style);	        },	        create: function(event, ui){	          var style =  $(this).children(':selected').data('style');	          $('.js-delivery-box .ui-selectmenu-text').attr('style', style);	        }	      })	      .iconselectmenu( "menuWidget")	      .addClass( "flag" );	    // ui select currency (option 50%)	  // autoHeight	  if ($('.js-height').length){	    $('.js-height').matchHeight({	      byRow: true,	      property: 'height',	      target: null,	      remove: false 	    });	  }	  //all tabs	  function tabs() {	    var $wrap = $('.js-tabs-wrap');	    if ($wrap.length) {	      $wrap.each(function () {	        var $that = $(this),	        $tab = $that.find('.js-tab'),	        $content = $that.find('.js-tab-content');	        $tab.on('click', function (e) {	          e.preventDefault();	          var self = $(this),	          index = self.index();	          self.addClass('active').siblings().removeClass('active');	          $content.eq(index).addClass('active').siblings().removeClass('active');	        });	      });	    }	  }	  tabs();	    //spinner	    if($('.js-spinner').length) {	      $('.js-spinner').spinner();	    }	  function accordeon() {	    if($('.js-accordeon-link').length) {	      $('.js-accordeon-link').on('click', function() { 	        $(this).toggleClass('active');	        $(this).next('.js-accordeon').slideToggle();	      })	    }	  }	  accordeon();	}($));})