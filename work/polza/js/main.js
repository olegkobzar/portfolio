function preloader() {	if ($('#preloader').length) {		setTimeout(function() {			$('#preloader').fadeOut('slow', function() {				$('body').removeClass('overflow-hidden').css('padding', '');			});		}, 1000);	}}$(window).on('load', preloader);//---------------------------------------//// Подключаем набор написаных скриптов (requare/developRequare.js)//---------------------------------------//// выполняем их после того, как DOM построится $(document).ready(function() {	 $.reject({  	//	header: 'Your browser is not supported here', // Header Text  	//	paragraph1: 'You are currently using an unsupported browser', // Paragraph 1  	//	paragraph2: 'Please install one of the many optional browsers below to proceed',  	//	closeMessage: 'Close this window at your own demise!' // Message below close window link  		 reject: { 			all: false,			msie: 9,			chrome: 40,			firefox: 30,			safari4: 4		}, 		display: [], // What browsers to display and their order (default set below)		browserShow: true, // Should the browser options be shown?		browserInfo: { // Settings for which browsers to display			chrome: {				// Text below the icon				text: 'Google Chrome',				// URL For icon/text link				url: 'http://www.google.com/chrome/'				// (Optional) Use "allow" to customized when to show this option				// Example: to show chrome only for IE users				// allow: { all: false, msie: true }			},			firefox: {				text: 'Mozilla Firefox',				url: 'http://www.mozilla.com/firefox/'			},			safari: {				text: 'Safari',				url: 'http://www.apple.com/safari/download/'			},			opera: {				text: 'Opera',				url: 'http://www.opera.com/download/'			},			msie: {				text: 'Microsoft Edge',				url: 'http://www.microsoft.com/'			}		},		// Pop-up Window Text		header: 'Ваш браузер устарел, установите последнюю версию браузера перейдя по ссылке:',		paragraph1: '',		paragraph2: '',		// Allow closing of window		close: false,		// Message displayed below closing link		closeMessage: 'By closing this window you acknowledge that your experience '+						'on this website may be degraded',		closeLink: 'Close This Window',		closeURL: '#',		// Allows closing of window with esc key		closeESC: false,		// Use cookies to remmember if window was closed previously?		closeCookie: false,		// Cookie settings are only used if closeCookie is true		cookieSettings: {			// Path for the cookie to be saved on			// Should be root domain in most cases			path: '/',			// Expiration Date (in seconds)			// 0 (default) means it ends with the current session			expires: 0		},		// Path where images are located		imagePath: './img/browsers/',		// Background color for overlay		overlayBgColor: '#fff',		// Background transparency (0-1)		overlayOpacity: 1,		// Fade in time on open ('slow','medium','fast' or integer in ms)		fadeInTime: 'fast',		// Fade out time on close ('slow','medium','fast' or integer in ms)		fadeOutTime: 'fast',		// Google Analytics Link Tracking (Optional)		// Set to true to enable		// Note: Analytics tracking code must be added separately		analytics: false	}); 	//---------------------------------------//	// Подключаем скрипты компонентов страниц ( modules )	//---------------------------------------//	function calculated() {		var typeEat = $('input[name="type"]:checked').val(),			dateEat = $('input[name="days"]:checked').val(),			res = 0,			workDay = $('input[name="workday"]').is(':checked'), // проверка на чекед Только будние дни			firstEat = $('input[name="firsteat"]').is(':checked'), // проверка на чекед Без завтраков			workDayValue = $('input[name="workday"]').val(),			firstEatValue = $('input[name="firsteat"]').val(),			eatNumber,			saleDay, 			firstSale;		function checkInput() {			res = typeEat * dateEat;			if ($('#days-1').is(':checked')) {				workDayValue = 0;				saleDay = typeEat * workDayValue;			} else if ($('#days-7').is(':checked')) {				workDayValue = 2;				saleDay = typeEat * workDayValue;			} else if ($('#days-14').is(':checked')) {				workDayValue = 4;				saleDay = typeEat * workDayValue;				res *= 0.95;			} else if ($('#days-28').is(':checked')) {				workDayValue = 8;				saleDay = typeEat * workDayValue;				res *= 0.9;			}			if ($('#type-1').is(':checked')) {				eatNumber = 4;			} else if ($('#type-2').is(':checked')) {				eatNumber = 5;			}			if ($('input[name="workday"]').is(':checked')) {				res -= typeEat * workDayValue;			} else if ($('input[name="workday"]').not(':checked')){				res;			}			if ($('input[name="firsteat"]').is(':checked')) {				res -= firstEatValue * dateEat;				eatNumber -= 1;			} else if ($('input[name="firsteat"]').not(':checked')) {				res;			}			firstSale = dateEat * firstEatValue;			$('.js-price-all').text(res + ' Р');			$('.js-number-eat').text(eatNumber);			$('.js-sale-day').text(-saleDay);			$('.js-sale-first').text(-firstSale)		}		checkInput();		$('input[type="checkbox"]').on('change', function() {			checkInput();		})		$('input[name="type"]').on('change', function() {			typeEat = $(this).val();			checkInput();		})		$('input[name="days"]').on('change', function() {			dateEat = $(this).val();			checkInput();		})	}	calculated();
	function autoHeightImg() {		$('.js-img-box').each(function() {			var widthBox = $(this).width(),				koef = widthBox * 1.256;			$(this).height(koef);		})	}	autoHeightImg();	$(window).on('resize', function() {		autoHeightImg();	})	$('.js-tabs-link').on('click', function() {		setTimeout(function() {			autoHeightImg();		})	})	function marginStyle() {		var containerW = $('.container').width(),			windowW = $(window).width(),			res = (windowW - containerW) / 2;		$('.js-map').css('margin-left', -res)	}	marginStyle();	$(window).on('resize', marginStyle)
	function sliderMobile() {		var flag = false;		var totalContent;		function init() {			if (window.innerWidth < 768) {				if (!flag) {					totalContentOne = $('.js-tabs-one').find('.total').detach();					totalContentTwo = $('.js-tabs-two').find('.total').detach();					$('.js-slider-example').each(function() {						$(this).slick({							dots: false,							infinite: false,							arrows: false,							slidesToShow: 1,							slidesToScroll: 1,							variableWidth: true						})						var $slider = $(this),							$progressBar = $slider.closest('.js-tabs-content').find('.example__progress'),							$progressBarLabel = $slider.closest('.js-tabs-content').find('.example__progress-line');						$slider.on('beforeChange', function(event, slick, currentSlide, nextSlide) {							var calc = ( (nextSlide) / (slick.slideCount - 1) ) * 100;							$progressBarLabel.css('width', calc + '%');						});					})					totalContentOne.appendTo('.js-wrap-total-one');					totalContentTwo.appendTo('.js-wrap-total-two');					flag = true;				}			} else {				if (flag) {					$('.js-slider-example').each(function() {						$(this).slick('unslick');						totalContentOne.appendTo('.js-tabs-one .js-slider-example');						totalContentTwo.appendTo('.js-tabs-two .js-slider-example');					})					flag = false;				}			}		}		if ($('.js-slider-example').length) {			init();			$(window).on('resize', init);		}	}	sliderMobile();	function sliderMobileProduct() {		var flag = false;		var totalContent;		function init() {			if (window.innerWidth < 768) {				if (!flag) {					$('.menu-food__content-box').each(function() {						var $this = $(this);						totalContent = $this.find('.total').detach();						var boxTotalMobile = $this.find('.js-wrap-total');						totalContent.appendTo(boxTotalMobile);						$this.find('.js-slider-food').slick({							dots: false,							infinite: false,							arrows: false,							slidesToShow: 1,							slidesToScroll: 1,							variableWidth: true						})						var $slider = $this.find('.js-slider-food'),							$progressBar = $slider.closest('.menu-food__content-box').find('.example__progress'),							$progressBarLabel = $slider.closest('.menu-food__content-box').find('.example__progress-line');						$slider.on('beforeChange', function(event, slick, currentSlide, nextSlide) {							var calc = ( (nextSlide) / (slick.slideCount - 1) ) * 100;							$progressBarLabel.css('width', calc + '%');						});					})					flag = true;				}			} else {				if (flag) {					$('.menu-food__content-box').each(function() {						$(this).find('.js-slider-food').slick('unslick');						totalContent = $(this).find('.total').detach();						var totalSliderBack = $(this).find('.js-slider-food');						totalContent.appendTo(totalSliderBack);					})					flag = false;				}			}		}		if ($('.js-slider-food').length) {			init();			$(window).on('resize', init);		}	}	sliderMobileProduct();	$(window).on('scroll', function() {		if ($(window).scrollTop() > 70) {			$('.header').addClass('active');		} else {			$('.header').removeClass('active');		}	})	function showMenu() {		$('.js-btn-menu').on('click', function() {			$('.js-menu').toggleClass('active');			$(this).toggleClass('active');			$('body').toggleClass('overflow');		})		$(document).on('click', function(e) {			if (!$(e.target).closest('.js-menu').length && !$(e.target).closest('.js-btn-menu').length) {				$('.js-menu').removeClass('active');				$('.js-btn-menu').removeClass('active');				$('body').removeClass('overflow');			}		})	}	showMenu();
	function dataImg() {		var desktopImg = $('.js-heading').data('desktop'),			mobileImg = $('.js-heading').data('mobile');		if($(window).width() > 479) {			$('.js-heading').attr('style', desktopImg)		} else {			$('.js-heading').attr('style', mobileImg)		}	}	dataImg();	$(window).on('resize', dataImg);
	function sliderReview() {		$('.js-slider-review').slick({			slidesToShow: 3,			slidesToScroll: 3,			arrows: false,			dots: true,			responsive: [				{					breakpoint: 1024,					settings: {						slidesToShow: 2,						slidesToScroll: 2					}				},				{					breakpoint: 768,					settings: {						slidesToShow: 1,						slidesToScroll: 1,						variableWidth: true,						dots: false,						infinite: false					}				}			]		})		var $slider = $('.js-slider-review'),			$progressBar = $('.review__progress'),			$progressBarLabel = $('.review__progress-line');		$slider.on('beforeChange', function(event, slick, currentSlide, nextSlide) {			var calc = ( (nextSlide) / (slick.slideCount - 1) ) * 100;			$progressBarLabel.css('width', calc + '%');		});	}	sliderReview();	//---------------------------------------//	// Подключаем основные скрипты ( develop )	//---------------------------------------//	if ($('input[type="tel"]').length) {		$('input[type="tel"]').mask('+7 (999) 999 99 99');	}	$('[data-fancybox]').fancybox({		autoFocus: false,		touch: false	})	function tabs() {		var wrap = $('.js-tabs');		if (wrap.length) {			wrap.each(function () {				var that = $(this),				tab = that.find('.js-tabs-link'),				content = that.find('.js-tabs-content');				tab.on('click', function (e) {					e.preventDefault();					var self = $(this),					index = self.closest('.js-tabs-link').index();					$('.js-tabs-link').removeClass('active');					self.addClass('active');					content.eq(index).addClass('active').siblings().removeClass('active');				});			});		}	}	tabs();	function pageId() {		$('.menu-food__content-item').each(function() {			$(this).find('.menu-food__days a').mPageScroll2id({				offset: '100',				scrollSpeed: 900,				scrollEasing: "easeInOutExpo",				scrollingEasing: "easeInOutCirc",				highlightClass: "active",				keepHighlightUntilNext: true			});		})	}	pageId();	function scrollDays() {		$(window).on('scroll', function() {			var boxOffset = $('.js-days').offset();			if ($(window).scrollTop() > boxOffset.top) {				$('.js-days-fixed').addClass('active');			} else {				$('.js-days-fixed').removeClass('active');			}		})	}	if($('.js-days').length) {		scrollDays();	}})